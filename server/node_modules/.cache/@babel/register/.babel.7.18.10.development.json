{"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.10:development":{"value":{"code":"import express from \"express\";\nimport \"dotenv/config\";\nimport http from \"http\";\nimport cors from \"cors\";\nimport { Server } from \"socket.io\";\nimport config from \"./config\";\nconst {\n  dbStart\n} = config;\nconst app = express();\nconst PORT = 4000;\nconst server = http.createServer(app);\napp.use(cors()); //start the database\n\ndbStart();\nconst socketIO = new Server(server, {\n  cors: {\n    origin: \"http://localhost:3000\"\n  }\n}); //Add this before the app.get() block\n\nsocketIO.on(\"connection\", socket => {\n  socket.send(\"Hello from space\");\n  console.log(`âš¡: ${socket.id} user just connected!`);\n  socket.on(\"disconnect\", () => {\n    console.log(`ðŸ”¥: A user disconnected`);\n  });\n});\napp.get(\"/api\", (req, res) => {\n  res.json(productData);\n});\nserver.listen(PORT, () => {\n  console.log(`Server listening on ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwiaHR0cCIsImNvcnMiLCJTZXJ2ZXIiLCJjb25maWciLCJkYlN0YXJ0IiwiYXBwIiwiUE9SVCIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsInVzZSIsInNvY2tldElPIiwib3JpZ2luIiwib24iLCJzb2NrZXQiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsImlkIiwiZ2V0IiwicmVxIiwicmVzIiwianNvbiIsInByb2R1Y3REYXRhIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5pbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCB7IFNlcnZlciB9IGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCJcblxuY29uc3QgeyBkYlN0YXJ0IH0gPSBjb25maWc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuY29uc3QgUE9SVCA9IDQwMDA7XG5cbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG5cbmFwcC51c2UoY29ycygpKTtcblxuLy9zdGFydCB0aGUgZGF0YWJhc2VcbmRiU3RhcnQoKTtcblxuY29uc3Qgc29ja2V0SU8gPSBuZXcgU2VydmVyKHNlcnZlciwge1xuICBjb3JzOiB7XG4gICAgb3JpZ2luOiBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLFxuICB9LFxufSk7XG5cbi8vQWRkIHRoaXMgYmVmb3JlIHRoZSBhcHAuZ2V0KCkgYmxvY2tcbnNvY2tldElPLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0KSA9PiB7XG4gIHNvY2tldC5zZW5kKFwiSGVsbG8gZnJvbSBzcGFjZVwiKTtcbiAgY29uc29sZS5sb2coYOKaoTogJHtzb2NrZXQuaWR9IHVzZXIganVzdCBjb25uZWN0ZWQhYCk7XG4gIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5SlOiBBIHVzZXIgZGlzY29ubmVjdGVkYCk7XG4gIH0pO1xufSk7XG5cbmFwcC5nZXQoXCIvYXBpXCIsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbihwcm9kdWN0RGF0YSk7XG59KTtcblxuc2VydmVyLmxpc3RlbihQT1JULCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKGBTZXJ2ZXIgbGlzdGVuaW5nIG9uICR7UE9SVH1gKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxPQUFQLE1BQW9CLFNBQXBCO0FBQ0EsT0FBTyxlQUFQO0FBQ0EsT0FBT0MsSUFBUCxNQUFpQixNQUFqQjtBQUNBLE9BQU9DLElBQVAsTUFBaUIsTUFBakI7QUFDQSxTQUFTQyxNQUFULFFBQXVCLFdBQXZCO0FBQ0EsT0FBT0MsTUFBUCxNQUFtQixVQUFuQjtBQUVBLE1BQU07RUFBRUM7QUFBRixJQUFjRCxNQUFwQjtBQUVBLE1BQU1FLEdBQUcsR0FBR04sT0FBTyxFQUFuQjtBQUVBLE1BQU1PLElBQUksR0FBRyxJQUFiO0FBRUEsTUFBTUMsTUFBTSxHQUFHUCxJQUFJLENBQUNRLFlBQUwsQ0FBa0JILEdBQWxCLENBQWY7QUFFQUEsR0FBRyxDQUFDSSxHQUFKLENBQVFSLElBQUksRUFBWixFLENBRUE7O0FBQ0FHLE9BQU87QUFFUCxNQUFNTSxRQUFRLEdBQUcsSUFBSVIsTUFBSixDQUFXSyxNQUFYLEVBQW1CO0VBQ2xDTixJQUFJLEVBQUU7SUFDSlUsTUFBTSxFQUFFO0VBREo7QUFENEIsQ0FBbkIsQ0FBakIsQyxDQU1BOztBQUNBRCxRQUFRLENBQUNFLEVBQVQsQ0FBWSxZQUFaLEVBQTJCQyxNQUFELElBQVk7RUFDcENBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLGtCQUFaO0VBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLE1BQUtILE1BQU0sQ0FBQ0ksRUFBRyx1QkFBNUI7RUFDQUosTUFBTSxDQUFDRCxFQUFQLENBQVUsWUFBVixFQUF3QixNQUFNO0lBQzVCRyxPQUFPLENBQUNDLEdBQVIsQ0FBYSx5QkFBYjtFQUNELENBRkQ7QUFHRCxDQU5EO0FBUUFYLEdBQUcsQ0FBQ2EsR0FBSixDQUFRLE1BQVIsRUFBZ0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7RUFDNUJBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTQyxXQUFUO0FBQ0QsQ0FGRDtBQUlBZixNQUFNLENBQUNnQixNQUFQLENBQWNqQixJQUFkLEVBQW9CLE1BQU07RUFDeEJTLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHVCQUFzQlYsSUFBSyxFQUF4QztBQUNELENBRkQifQ==","map":{"version":3,"names":["express","http","cors","Server","config","dbStart","app","PORT","server","createServer","use","socketIO","origin","on","socket","send","console","log","id","get","req","res","json","productData","listen"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport \"dotenv/config\";\nimport http from \"http\";\nimport cors from \"cors\";\nimport { Server } from \"socket.io\";\nimport config from \"./config\"\n\nconst { dbStart } = config;\n\nconst app = express();\n\nconst PORT = 4000;\n\nconst server = http.createServer(app);\n\napp.use(cors());\n\n//start the database\ndbStart();\n\nconst socketIO = new Server(server, {\n  cors: {\n    origin: \"http://localhost:3000\",\n  },\n});\n\n//Add this before the app.get() block\nsocketIO.on(\"connection\", (socket) => {\n  socket.send(\"Hello from space\");\n  console.log(`âš¡: ${socket.id} user just connected!`);\n  socket.on(\"disconnect\", () => {\n    console.log(`ðŸ”¥: A user disconnected`);\n  });\n});\n\napp.get(\"/api\", (req, res) => {\n  res.json(productData);\n});\n\nserver.listen(PORT, () => {\n  console.log(`Server listening on ${PORT}`);\n});\n"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAO,eAAP;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAM;EAAEC;AAAF,IAAcD,MAApB;AAEA,MAAME,GAAG,GAAGN,OAAO,EAAnB;AAEA,MAAMO,IAAI,GAAG,IAAb;AAEA,MAAMC,MAAM,GAAGP,IAAI,CAACQ,YAAL,CAAkBH,GAAlB,CAAf;AAEAA,GAAG,CAACI,GAAJ,CAAQR,IAAI,EAAZ,E,CAEA;;AACAG,OAAO;AAEP,MAAMM,QAAQ,GAAG,IAAIR,MAAJ,CAAWK,MAAX,EAAmB;EAClCN,IAAI,EAAE;IACJU,MAAM,EAAE;EADJ;AAD4B,CAAnB,CAAjB,C,CAMA;;AACAD,QAAQ,CAACE,EAAT,CAAY,YAAZ,EAA2BC,MAAD,IAAY;EACpCA,MAAM,CAACC,IAAP,CAAY,kBAAZ;EACAC,OAAO,CAACC,GAAR,CAAa,MAAKH,MAAM,CAACI,EAAG,uBAA5B;EACAJ,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAM;IAC5BG,OAAO,CAACC,GAAR,CAAa,yBAAb;EACD,CAFD;AAGD,CAND;AAQAX,GAAG,CAACa,GAAJ,CAAQ,MAAR,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;EAC5BA,GAAG,CAACC,IAAJ,CAASC,WAAT;AACD,CAFD;AAIAf,MAAM,CAACgB,MAAP,CAAcjB,IAAd,EAAoB,MAAM;EACxBS,OAAO,CAACC,GAAR,CAAa,uBAAsBV,IAAK,EAAxC;AACD,CAFD"}},"mtime":1660320186672},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nrequire(\"dotenv/config\");\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _socket = require(\"socket.io\");\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _config2 = _interopRequireDefault(require(\"./config\"));\n\nvar _index = _interopRequireDefault(require(\"./controller/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatController,\n  userController: {\n    createNewUser,\n    loginUser\n  },\n  onlineUserController: {\n    saveOnlineUser,\n    removeOnlineUser\n  }\n} = _index.default;\nconst {\n  dbStart\n} = _config2.default;\n\nconst startWebServer = async () => {\n  const app = (0, _express.default)();\n  const PORT = 4000;\n\n  const server = _http.default.Server(app);\n\n  app.use((0, _cors.default)()); // Configuring body parser middleware\n\n  app.use(_bodyParser.default.urlencoded({\n    extended: false\n  }));\n  app.use(_bodyParser.default.json()); //start the database\n\n  await dbStart();\n  const socketIO = new _socket.Server(server, {\n    cors: {\n      origin: \"http://localhost:3000\"\n    }\n  }); //Add this before the app.get() block\n\n  socketIO.on(\"connection\", socket => {\n    console.log(`âš¡: ${socket.id} user just connected!`);\n    socket.on(\"disconnect\", () => {\n      console.log(`ðŸ”¥: A user disconnected`);\n    });\n    socket.on(\"user-login\", async data => {\n      await saveOnlineUser(data);\n    });\n  });\n  app.post(\"/create-user\", async (req, res) => {\n    const data = await createNewUser(req);\n    res.send(data);\n  });\n  app.post(\"/login\", async (req, res) => {\n    const data = await loginUser(req);\n    res.send(data);\n  });\n  server.listen(PORT, () => {\n    console.log(`Server listening on ${PORT}`);\n  });\n};\n\nstartWebServer();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwiY3JlYXRlTmV3VXNlciIsImxvZ2luVXNlciIsIm9ubGluZVVzZXJDb250cm9sbGVyIiwic2F2ZU9ubGluZVVzZXIiLCJyZW1vdmVPbmxpbmVVc2VyIiwiY29udHJvbGxlciIsImRiU3RhcnQiLCJjb25maWciLCJzdGFydFdlYlNlcnZlciIsImFwcCIsImV4cHJlc3MiLCJQT1JUIiwic2VydmVyIiwiaHR0cCIsIlNlcnZlciIsInVzZSIsImNvcnMiLCJib2R5UGFyc2VyIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsInNvY2tldElPIiwib3JpZ2luIiwib24iLCJzb2NrZXQiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJkYXRhIiwicG9zdCIsInJlcSIsInJlcyIsInNlbmQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBcImRvdGVudi9jb25maWdcIjtcbmltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcInNvY2tldC5pb1wiO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlci9pbmRleC5qc1wiO1xuXG5jb25zdCB7XG4gIGNoYXRDb250cm9sbGVyLFxuICB1c2VyQ29udHJvbGxlcjogeyBjcmVhdGVOZXdVc2VyLCBsb2dpblVzZXIgfSxcbiAgb25saW5lVXNlckNvbnRyb2xsZXI6IHsgc2F2ZU9ubGluZVVzZXIsIHJlbW92ZU9ubGluZVVzZXIgfVxufSA9IGNvbnRyb2xsZXI7XG5cbmNvbnN0IHsgZGJTdGFydCB9ID0gY29uZmlnO1xuXG5jb25zdCBzdGFydFdlYlNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4gIGNvbnN0IFBPUlQgPSA0MDAwO1xuXG4gIGNvbnN0IHNlcnZlciA9IGh0dHAuU2VydmVyKGFwcCk7XG5cbiAgYXBwLnVzZShjb3JzKCkpO1xuXG4gIC8vIENvbmZpZ3VyaW5nIGJvZHkgcGFyc2VyIG1pZGRsZXdhcmVcbiAgYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcblxuICAvL3N0YXJ0IHRoZSBkYXRhYmFzZVxuICBhd2FpdCBkYlN0YXJ0KCk7XG5cbiAgY29uc3Qgc29ja2V0SU8gPSBuZXcgU2VydmVyKHNlcnZlciwge1xuICAgIGNvcnM6IHtcbiAgICAgIG9yaWdpbjogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixcbiAgICB9LFxuICB9KTtcblxuICAvL0FkZCB0aGlzIGJlZm9yZSB0aGUgYXBwLmdldCgpIGJsb2NrXG4gIHNvY2tldElPLm9uKFwiY29ubmVjdGlvblwiLCAoIHNvY2tldCApID0+IHtcbiAgICBjb25zb2xlLmxvZyhg4pqhOiAke3NvY2tldC5pZH0gdXNlciBqdXN0IGNvbm5lY3RlZCFgKTtcbiAgICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SlOiBBIHVzZXIgZGlzY29ubmVjdGVkYCk7XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oXCJ1c2VyLWxvZ2luXCIsIGFzeW5jICggZGF0YSApID0+IHtcbiAgICAgICBhd2FpdCBzYXZlT25saW5lVXNlcihkYXRhKTtcbiAgICB9KVxuICB9KTtcblxuICBhcHAucG9zdChcIi9jcmVhdGUtdXNlclwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgY3JlYXRlTmV3VXNlcihyZXEpO1xuICAgIHJlcy5zZW5kKGRhdGEpO1xuICB9KTtcblxuICBhcHAucG9zdChcIi9sb2dpblwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9naW5Vc2VyKHJlcSk7XG4gICAgcmVzLnNlbmQoZGF0YSk7XG4gIH0pO1xuXG4gIHNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgbGlzdGVuaW5nIG9uICR7UE9SVH1gKTtcbiAgfSk7XG59O1xuXG5zdGFydFdlYlNlcnZlcigpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTTtFQUNKQSxjQURJO0VBRUpDLGNBQWMsRUFBRTtJQUFFQyxhQUFGO0lBQWlCQztFQUFqQixDQUZaO0VBR0pDLG9CQUFvQixFQUFFO0lBQUVDLGNBQUY7SUFBa0JDO0VBQWxCO0FBSGxCLElBSUZDLGNBSko7QUFNQSxNQUFNO0VBQUVDO0FBQUYsSUFBY0MsZ0JBQXBCOztBQUVBLE1BQU1DLGNBQWMsR0FBRyxZQUFZO0VBQ2pDLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBQSxHQUFaO0VBRUEsTUFBTUMsSUFBSSxHQUFHLElBQWI7O0VBRUEsTUFBTUMsTUFBTSxHQUFHQyxhQUFBLENBQUtDLE1BQUwsQ0FBWUwsR0FBWixDQUFmOztFQUVBQSxHQUFHLENBQUNNLEdBQUosQ0FBUSxJQUFBQyxhQUFBLEdBQVIsRUFQaUMsQ0FTakM7O0VBQ0FQLEdBQUcsQ0FBQ00sR0FBSixDQUFRRSxtQkFBQSxDQUFXQyxVQUFYLENBQXNCO0lBQUVDLFFBQVEsRUFBRTtFQUFaLENBQXRCLENBQVI7RUFDQVYsR0FBRyxDQUFDTSxHQUFKLENBQVFFLG1CQUFBLENBQVdHLElBQVgsRUFBUixFQVhpQyxDQWFqQzs7RUFDQSxNQUFNZCxPQUFPLEVBQWI7RUFFQSxNQUFNZSxRQUFRLEdBQUcsSUFBSVAsY0FBSixDQUFXRixNQUFYLEVBQW1CO0lBQ2xDSSxJQUFJLEVBQUU7TUFDSk0sTUFBTSxFQUFFO0lBREo7RUFENEIsQ0FBbkIsQ0FBakIsQ0FoQmlDLENBc0JqQzs7RUFDQUQsUUFBUSxDQUFDRSxFQUFULENBQVksWUFBWixFQUE0QkMsTUFBRixJQUFjO0lBQ3RDQyxPQUFPLENBQUNDLEdBQVIsQ0FBYSxNQUFLRixNQUFNLENBQUNHLEVBQUcsdUJBQTVCO0lBQ0FILE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFlBQVYsRUFBd0IsTUFBTTtNQUM1QkUsT0FBTyxDQUFDQyxHQUFSLENBQWEseUJBQWI7SUFDRCxDQUZEO0lBSUFGLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFlBQVYsRUFBd0IsTUFBUUssSUFBUixJQUFrQjtNQUN2QyxNQUFNekIsY0FBYyxDQUFDeUIsSUFBRCxDQUFwQjtJQUNGLENBRkQ7RUFHRCxDQVREO0VBV0FuQixHQUFHLENBQUNvQixJQUFKLENBQVMsY0FBVCxFQUF5QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7SUFDM0MsTUFBTUgsSUFBSSxHQUFHLE1BQU01QixhQUFhLENBQUM4QixHQUFELENBQWhDO0lBQ0FDLEdBQUcsQ0FBQ0MsSUFBSixDQUFTSixJQUFUO0VBQ0QsQ0FIRDtFQUtBbkIsR0FBRyxDQUFDb0IsSUFBSixDQUFTLFFBQVQsRUFBbUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0lBQ3JDLE1BQU1ILElBQUksR0FBRyxNQUFNM0IsU0FBUyxDQUFDNkIsR0FBRCxDQUE1QjtJQUNBQyxHQUFHLENBQUNDLElBQUosQ0FBU0osSUFBVDtFQUNELENBSEQ7RUFLQWhCLE1BQU0sQ0FBQ3FCLE1BQVAsQ0FBY3RCLElBQWQsRUFBb0IsTUFBTTtJQUN4QmMsT0FBTyxDQUFDQyxHQUFSLENBQWEsdUJBQXNCZixJQUFLLEVBQXhDO0VBQ0QsQ0FGRDtBQUdELENBL0NEOztBQWlEQUgsY0FBYyJ9","map":{"version":3,"names":["chatController","userController","createNewUser","loginUser","onlineUserController","saveOnlineUser","removeOnlineUser","controller","dbStart","config","startWebServer","app","express","PORT","server","http","Server","use","cors","bodyParser","urlencoded","extended","json","socketIO","origin","on","socket","console","log","id","data","post","req","res","send","listen"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport \"dotenv/config\";\nimport http from \"http\";\nimport cors from \"cors\";\nimport { Server } from \"socket.io\";\nimport bodyParser from \"body-parser\";\nimport config from \"./config\";\nimport controller from \"./controller/index.js\";\n\nconst {\n  chatController,\n  userController: { createNewUser, loginUser },\n  onlineUserController: { saveOnlineUser, removeOnlineUser }\n} = controller;\n\nconst { dbStart } = config;\n\nconst startWebServer = async () => {\n  const app = express();\n\n  const PORT = 4000;\n\n  const server = http.Server(app);\n\n  app.use(cors());\n\n  // Configuring body parser middleware\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(bodyParser.json());\n\n  //start the database\n  await dbStart();\n\n  const socketIO = new Server(server, {\n    cors: {\n      origin: \"http://localhost:3000\",\n    },\n  });\n\n  //Add this before the app.get() block\n  socketIO.on(\"connection\", ( socket ) => {\n    console.log(`âš¡: ${socket.id} user just connected!`);\n    socket.on(\"disconnect\", () => {\n      console.log(`ðŸ”¥: A user disconnected`);\n    });\n\n    socket.on(\"user-login\", async ( data ) => {\n       await saveOnlineUser(data);\n    })\n  });\n\n  app.post(\"/create-user\", async (req, res) => {\n    const data = await createNewUser(req);\n    res.send(data);\n  });\n\n  app.post(\"/login\", async (req, res) => {\n    const data = await loginUser(req);\n    res.send(data);\n  });\n\n  server.listen(PORT, () => {\n    console.log(`Server listening on ${PORT}`);\n  });\n};\n\nstartWebServer();\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAM;EACJA,cADI;EAEJC,cAAc,EAAE;IAAEC,aAAF;IAAiBC;EAAjB,CAFZ;EAGJC,oBAAoB,EAAE;IAAEC,cAAF;IAAkBC;EAAlB;AAHlB,IAIFC,cAJJ;AAMA,MAAM;EAAEC;AAAF,IAAcC,gBAApB;;AAEA,MAAMC,cAAc,GAAG,YAAY;EACjC,MAAMC,GAAG,GAAG,IAAAC,gBAAA,GAAZ;EAEA,MAAMC,IAAI,GAAG,IAAb;;EAEA,MAAMC,MAAM,GAAGC,aAAA,CAAKC,MAAL,CAAYL,GAAZ,CAAf;;EAEAA,GAAG,CAACM,GAAJ,CAAQ,IAAAC,aAAA,GAAR,EAPiC,CASjC;;EACAP,GAAG,CAACM,GAAJ,CAAQE,mBAAA,CAAWC,UAAX,CAAsB;IAAEC,QAAQ,EAAE;EAAZ,CAAtB,CAAR;EACAV,GAAG,CAACM,GAAJ,CAAQE,mBAAA,CAAWG,IAAX,EAAR,EAXiC,CAajC;;EACA,MAAMd,OAAO,EAAb;EAEA,MAAMe,QAAQ,GAAG,IAAIP,cAAJ,CAAWF,MAAX,EAAmB;IAClCI,IAAI,EAAE;MACJM,MAAM,EAAE;IADJ;EAD4B,CAAnB,CAAjB,CAhBiC,CAsBjC;;EACAD,QAAQ,CAACE,EAAT,CAAY,YAAZ,EAA4BC,MAAF,IAAc;IACtCC,OAAO,CAACC,GAAR,CAAa,MAAKF,MAAM,CAACG,EAAG,uBAA5B;IACAH,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAM;MAC5BE,OAAO,CAACC,GAAR,CAAa,yBAAb;IACD,CAFD;IAIAF,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,MAAQK,IAAR,IAAkB;MACvC,MAAMzB,cAAc,CAACyB,IAAD,CAApB;IACF,CAFD;EAGD,CATD;EAWAnB,GAAG,CAACoB,IAAJ,CAAS,cAAT,EAAyB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;IAC3C,MAAMH,IAAI,GAAG,MAAM5B,aAAa,CAAC8B,GAAD,CAAhC;IACAC,GAAG,CAACC,IAAJ,CAASJ,IAAT;EACD,CAHD;EAKAnB,GAAG,CAACoB,IAAJ,CAAS,QAAT,EAAmB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;IACrC,MAAMH,IAAI,GAAG,MAAM3B,SAAS,CAAC6B,GAAD,CAA5B;IACAC,GAAG,CAACC,IAAJ,CAASJ,IAAT;EACD,CAHD;EAKAhB,MAAM,CAACqB,MAAP,CAActB,IAAd,EAAoB,MAAM;IACxBc,OAAO,CAACC,GAAR,CAAa,uBAAsBf,IAAK,EAAxC;EACD,CAFD;AAGD,CA/CD;;AAiDAH,cAAc"}},"mtime":1660511012233},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dbStart = _interopRequireDefault(require(\"./dbStart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  dbStart: _dbStart.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYlN0YXJ0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJTdGFydCBmcm9tIFwiLi9kYlN0YXJ0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGJTdGFydCxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlO0VBQ2JBLE9BQU8sRUFBUEE7QUFEYSxDIn0=","map":{"version":3,"names":["dbStart"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/","sources":["index.js"],"sourcesContent":["import dbStart from \"./dbStart\";\n\nexport default {\n  dbStart,\n};\n"],"mappings":";;;;;;;AAAA;;;;eAEe;EACbA,OAAO,EAAPA;AADa,C"}},"mtime":1660320121950},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/dbStart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst initDataBase = async () => {\n  let url = `mongodb://localhost:27017/chat_db`;\n  console.log(\"starting database connection :\");\n\n  try {\n    await _mongoose.default.connect(url, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n      useCreateIndex: true,\n      keepAlive: true\n    });\n    console.log(\"chat database connected :\");\n  } catch (error) {\n    console.log(\"database error \", error);\n  }\n};\n\nvar _default = initDataBase;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0RGF0YUJhc2UiLCJ1cmwiLCJjb25zb2xlIiwibG9nIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlRmluZEFuZE1vZGlmeSIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4Iiwia2VlcEFsaXZlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRiU3RhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBpbml0RGF0YUJhc2UgPSBhc3luYyAoKSA9PiB7XG4gIGxldCB1cmwgPSBgbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9jaGF0X2RiYDtcbiAgY29uc29sZS5sb2coXCJzdGFydGluZyBkYXRhYmFzZSBjb25uZWN0aW9uIDpcIik7XG4gIHRyeSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdCh1cmwsIHtcbiAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgIHVzZUZpbmRBbmRNb2RpZnk6IGZhbHNlLFxuICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coXCJjaGF0IGRhdGFiYXNlIGNvbm5lY3RlZCA6XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiZGF0YWJhc2UgZXJyb3IgXCIsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdERhdGFCYXNlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsWUFBWTtFQUMvQixJQUFJQyxHQUFHLEdBQUksbUNBQVg7RUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQVo7O0VBQ0EsSUFBSTtJQUNGLE1BQU1DLGlCQUFBLENBQVNDLE9BQVQsQ0FBaUJKLEdBQWpCLEVBQXNCO01BQzFCSyxlQUFlLEVBQUUsSUFEUztNQUUxQkMsZ0JBQWdCLEVBQUUsS0FGUTtNQUcxQkMsa0JBQWtCLEVBQUUsSUFITTtNQUkxQkMsY0FBYyxFQUFFLElBSlU7TUFLMUJDLFNBQVMsRUFBRTtJQUxlLENBQXRCLENBQU47SUFPQVIsT0FBTyxDQUFDQyxHQUFSLENBQVksMkJBQVo7RUFDRCxDQVRELENBU0UsT0FBT1EsS0FBUCxFQUFjO0lBQ2RULE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQStCUSxLQUEvQjtFQUNEO0FBQ0YsQ0FmRDs7ZUFpQmVYLFkifQ==","map":{"version":3,"names":["initDataBase","url","console","log","mongoose","connect","useNewUrlParser","useFindAndModify","useUnifiedTopology","useCreateIndex","keepAlive","error"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/","sources":["dbStart.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst initDataBase = async () => {\n  let url = `mongodb://localhost:27017/chat_db`;\n  console.log(\"starting database connection :\");\n  try {\n    await mongoose.connect(url, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n      useCreateIndex: true,\n      keepAlive: true,\n    });\n    console.log(\"chat database connected :\");\n  } catch (error) {\n    console.log(\"database error \", error);\n  }\n};\n\nexport default initDataBase;\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,YAAY;EAC/B,IAAIC,GAAG,GAAI,mCAAX;EACAC,OAAO,CAACC,GAAR,CAAY,gCAAZ;;EACA,IAAI;IACF,MAAMC,iBAAA,CAASC,OAAT,CAAiBJ,GAAjB,EAAsB;MAC1BK,eAAe,EAAE,IADS;MAE1BC,gBAAgB,EAAE,KAFQ;MAG1BC,kBAAkB,EAAE,IAHM;MAI1BC,cAAc,EAAE,IAJU;MAK1BC,SAAS,EAAE;IALe,CAAtB,CAAN;IAOAR,OAAO,CAACC,GAAR,CAAY,2BAAZ;EACD,CATD,CASE,OAAOQ,KAAP,EAAc;IACdT,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BQ,KAA/B;EACD;AACF,CAfD;;eAiBeX,Y"}},"mtime":1660417647951},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _user.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNoYXRDb250cm9sbGVyIGZyb20gXCIuL2NoYXRcIjtcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgb25saW5lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vb25saW5lVXNlclwiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2hhdENvbnRyb2xsZXIsXG4gIHVzZXJDb250cm9sbGVyLFxuICBvbmxpbmVVc2VyQ29udHJvbGxlclxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O2VBRWU7RUFDYkEsY0FBYyxFQUFkQSxhQURhO0VBRWJDLGNBQWMsRUFBZEEsYUFGYTtFQUdiQyxvQkFBb0IsRUFBcEJBO0FBSGEsQyJ9","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./user\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,aAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660477155684},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJjaGF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5jb25zdCB7IGNoYXRNb2RlbCwgdXNlck1vZGVsIH0gPSBtb2RlbHM7XG5cbmNvbnN0IHNhdmVDaGF0ID0gYXN5bmMgKHJlcSkgPT4ge1xuICBjb25zdCB7IHVzZXIsIG1lc3NhZ2UsIHJlY2VpcGllbnQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgXG5cblxuXG5cblxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNhdmVDaGF0IH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU07RUFBRUEsU0FBRjtFQUFhQztBQUFiLElBQTJCQyxlQUFqQzs7QUFFQSxNQUFNQyxRQUFRLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQzlCLE1BQU07SUFBRUMsSUFBRjtJQUFRQyxPQUFSO0lBQWlCQztFQUFqQixJQUFnQ0gsR0FBRyxDQUFDSSxNQUExQztBQVNELENBVkQ7O2VBWWU7RUFBRUw7QUFBRixDIn0=","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatModel: _chat.default,\n  userModel: _user.default,\n  onlineUserModel: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJvbmxpbmVVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGF0TW9kZWwgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgb25saW5lVXNlck1vZGVsIGZyb20gXCIuL29ubGluZVVzZXJcIlxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjaGF0TW9kZWwsXG4gICAgdXNlck1vZGVsLFxuICAgIG9ubGluZVVzZXJNb2RlbFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O2VBR2U7RUFDWEEsU0FBUyxFQUFUQSxhQURXO0VBRVhDLFNBQVMsRUFBVEEsYUFGVztFQUdYQyxlQUFlLEVBQWZBO0FBSFcsQyJ9","map":{"version":3,"names":["chatModel","userModel","onlineUserModel"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["index.js"],"sourcesContent":["import chatModel from \"./chat\";\nimport userModel from \"./user\";\nimport onlineUserModel from \"./onlineUser\"\n\n\nexport default {\n    chatModel,\n    userModel,\n    onlineUserModel\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAGe;EACXA,SAAS,EAATA,aADW;EAEXC,SAAS,EAATA,aAFW;EAGXC,eAAe,EAAfA;AAHW,C"}},"mtime":1660476457827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst ChatSchema = new Schema({\n  user: String,\n  messages: {\n    type: Array\n  }\n}); //object => {from, message, timestamp }\n\nvar _default = _mongoose.default.model(\"chat\", ChatSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNoYXRTY2hlbWEiLCJ1c2VyIiwiU3RyaW5nIiwibWVzc2FnZXMiLCJ0eXBlIiwiQXJyYXkiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2hhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgQ2hhdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB1c2VyOiBTdHJpbmcsXG4gIG1lc3NhZ2VzOiB7XG4gICAgdHlwZTogQXJyYXksXG4gIH1cbn0pO1xuXG4vL29iamVjdCA9PiB7ZnJvbSwgbWVzc2FnZSwgdGltZXN0YW1wIH1cblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjaGF0XCIsIENoYXRTY2hlbWEpOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBQSxDQUFTRCxNQUF4QjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7RUFDNUJHLElBQUksRUFBRUMsTUFEc0I7RUFFNUJDLFFBQVEsRUFBRTtJQUNSQyxJQUFJLEVBQUVDO0VBREU7QUFGa0IsQ0FBWCxDQUFuQixDLENBT0E7O2VBRWVOLGlCQUFBLENBQVNPLEtBQVQsQ0FBZSxNQUFmLEVBQXVCTixVQUF2QixDIn0=","map":{"version":3,"names":["Schema","mongoose","ChatSchema","user","String","messages","type","Array","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["chat.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst ChatSchema = new Schema({\n  user: String,\n  messages: {\n    type: Array,\n  }\n});\n\n//object => {from, message, timestamp }\n\nexport default mongoose.model(\"chat\", ChatSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;EAC5BG,IAAI,EAAEC,MADsB;EAE5BC,QAAQ,EAAE;IACRC,IAAI,EAAEC;EADE;AAFkB,CAAX,CAAnB,C,CAOA;;eAEeN,iBAAA,CAASO,KAAT,CAAe,MAAf,EAAuBN,UAAvB,C"}},"mtime":1660409227091},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  username: String,\n  password: String,\n  name: String\n});\n\nvar _default = _mongoose.default.model(\"user\", UserSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlVzZXJTY2hlbWEiLCJ1c2VybmFtZSIsIlN0cmluZyIsInBhc3N3b3JkIiwibmFtZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiBTdHJpbmcsXG4gIHBhc3N3b3JkOiBTdHJpbmcsXG4gIG5hbWU6IFN0cmluZyxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFBLENBQVNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM1QkcsUUFBUSxFQUFFQyxNQURrQjtFQUU1QkMsUUFBUSxFQUFFRCxNQUZrQjtFQUc1QkUsSUFBSSxFQUFFRjtBQUhzQixDQUFYLENBQW5COztlQU1lSCxpQkFBQSxDQUFTTSxLQUFULENBQWUsTUFBZixFQUF1QkwsVUFBdkIsQyJ9","map":{"version":3,"names":["Schema","mongoose","UserSchema","username","String","password","name","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["user.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst UserSchema = new Schema({\n  username: String,\n  password: String,\n  name: String,\n});\n\nexport default mongoose.model(\"user\", UserSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;EAC5BG,QAAQ,EAAEC,MADkB;EAE5BC,QAAQ,EAAED,MAFkB;EAG5BE,IAAI,EAAEF;AAHsB,CAAX,CAAnB;;eAMeH,iBAAA,CAASM,KAAT,CAAe,MAAf,EAAuBL,UAAvB,C"}},"mtime":1660317888213},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcblxuY29uc3QgeyB1c2VyTW9kZWwgfSA9IG1vZGVscztcbmNvbnN0IHsgc2VjcmV0X2tleSB9ID0gcHJvY2Vzcy5lbnY7XG5cbmNvbnN0IGNyZWF0ZU5ld1VzZXIgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgLy9jaGVjayBpZiBhY2NvdW50IGV4aXN0IGFscmVhZHlcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZSB9KTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGB1c2VyIHdpdGggJHt1c2VybmFtZX0gYWxyZWFkeSBleGlzdHNgLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IHVzZXJNb2RlbCh7XG4gICAgICBuYW1lLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaCxcbiAgICB9KTtcbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcklkLFxuICAgICAgbmFtZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gIH1cbn07XG5cbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jIChyZXEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlckFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7XG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICB9KTtcbiAgICBpZiAoIXVzZXJBY2NvdW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZGV0YWlscyBub3QgZm91bmRcIixcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyQWNjb3VudC5wYXNzd29yZCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgLy9yZXR1cm4gZXJyb3IgdG8gdXNlckFjY291bnQgdG8gbGV0IHRoZW0ga25vdyB0aGUgcGFzc3dvcmQgaXMgaW5jb3JyZWN0XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBjcmVkZW50aWFsc1wiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJBY2NvdW50LnVzZXJuYW1lLFxuICAgICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICAgIG5hbWU6IHVzZXJBY2NvdW50Lm5hbWUsXG4gICAgICB9LFxuICAgICAgc2VjcmV0X2tleVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcm5hbWU6IHVzZXJBY2NvdW50LnVzZXJuYW1lLFxuICAgICAgaWQ6IHVzZXJBY2NvdW50LmlkLFxuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBjcmVhdGVOZXdVc2VyLCBsb2dpblVzZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0EsTUFBTUEsVUFBVSxHQUFHLEVBQW5CO0FBRUEsTUFBTTtFQUFFQztBQUFGLElBQWdCQyxlQUF0QjtBQUNBLE1BQU07RUFBRUM7QUFBRixJQUFpQkMsT0FBTyxDQUFDQyxHQUEvQjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQ25DLE1BQU07SUFBRUMsSUFBRjtJQUFRQyxRQUFSO0lBQWtCQztFQUFsQixJQUErQkgsR0FBRyxDQUFDSSxJQUF6QyxDQURtQyxDQUVuQzs7RUFDQSxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLE1BQU1YLFNBQVMsQ0FBQ1ksT0FBVixDQUFrQjtNQUFFSjtJQUFGLENBQWxCLENBQW5COztJQUNBLElBQUlHLElBQUosRUFBVTtNQUNSLE9BQU87UUFDTEUsT0FBTyxFQUFFLEtBREo7UUFFTEMsT0FBTyxFQUFHLGFBQVlOLFFBQVM7TUFGMUIsQ0FBUDtJQUlEOztJQUNELE1BQU1PLElBQUksR0FBRyxNQUFNQyxlQUFBLENBQU9ELElBQVAsQ0FBWU4sUUFBWixFQUFzQlYsVUFBdEIsQ0FBbkI7SUFDQSxNQUFNa0IsT0FBTyxHQUFHLElBQUlqQixTQUFKLENBQWM7TUFDNUJPLElBRDRCO01BRTVCQyxRQUY0QjtNQUc1QkMsUUFBUSxFQUFFTTtJQUhrQixDQUFkLENBQWhCO0lBS0EsTUFBTUcsTUFBTSxHQUFHLE1BQU1ELE9BQU8sQ0FBQ0UsSUFBUixFQUFyQjtJQUNBLE9BQU87TUFDTEQsTUFESztNQUVMWCxJQUZLO01BR0xDLFFBSEs7TUFJTEssT0FBTyxFQUFFO0lBSkosQ0FBUDtFQU1ELENBckJELENBcUJFLE9BQU9PLEtBQVAsRUFBYztJQUNkQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0VBQ0Q7QUFDRixDQTNCRDs7QUE2QkEsTUFBTUMsU0FBUyxHQUFHLE1BQU9qQixHQUFQLElBQWU7RUFDL0IsSUFBSTtJQUNGLE1BQU07TUFBRUUsUUFBRjtNQUFZQztJQUFaLElBQXlCSCxHQUFHLENBQUNJLElBQW5DO0lBQ0EsTUFBTWMsV0FBVyxHQUFHLE1BQU14QixTQUFTLENBQUNZLE9BQVYsQ0FBa0I7TUFDMUNKLFFBQVEsRUFBRUEsUUFBUSxDQUFDaUIsV0FBVDtJQURnQyxDQUFsQixDQUExQjs7SUFHQSxJQUFJLENBQUNELFdBQUwsRUFBa0I7TUFDaEIsT0FBTztRQUNMVixPQUFPLEVBQUUsd0JBREo7UUFFTEQsT0FBTyxFQUFFO01BRkosQ0FBUDtJQUlEOztJQUNELE1BQU1hLEtBQUssR0FBRyxNQUFNVixlQUFBLENBQU9XLE9BQVAsQ0FBZWxCLFFBQWYsRUFBeUJlLFdBQVcsQ0FBQ2YsUUFBckMsQ0FBcEI7O0lBQ0EsSUFBSSxDQUFDaUIsS0FBTCxFQUFZO01BQ1Y7TUFDQSxPQUFPO1FBQ0xaLE9BQU8sRUFBRSx1QkFESjtRQUVMRCxPQUFPLEVBQUU7TUFGSixDQUFQO0lBSUQ7O0lBRUQsTUFBTWUsS0FBSyxHQUFHQyxxQkFBQSxDQUFJQyxJQUFKLENBQ1o7TUFDRXRCLFFBQVEsRUFBRWdCLFdBQVcsQ0FBQ2hCLFFBRHhCO01BRUV1QixFQUFFLEVBQUVQLFdBQVcsQ0FBQ08sRUFGbEI7TUFHRXhCLElBQUksRUFBRWlCLFdBQVcsQ0FBQ2pCO0lBSHBCLENBRFksRUFNWkwsVUFOWSxDQUFkOztJQVNBLE9BQU87TUFDTE0sUUFBUSxFQUFFZ0IsV0FBVyxDQUFDaEIsUUFEakI7TUFFTHVCLEVBQUUsRUFBRVAsV0FBVyxDQUFDTyxFQUZYO01BR0xILEtBQUssRUFBRUEsS0FIRjtNQUlMckIsSUFBSSxFQUFFaUIsV0FBVyxDQUFDakIsSUFKYjtNQUtMTSxPQUFPLEVBQUU7SUFMSixDQUFQO0VBT0QsQ0FwQ0QsQ0FvQ0UsTUFBTTtJQUNOUSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0VBQ0Q7QUFDRixDQXhDRDs7ZUEwQ2U7RUFBRWpCLGFBQUY7RUFBaUJrQjtBQUFqQixDIn0=","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["user.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\nconst createNewUser = async (req) => {\n  const { name, username, password } = req.body;\n  //check if account exist already\n  try {\n    const user = await userModel.findOne({ username });\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`,\n      };\n    }\n    const hash = await bcrypt.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash,\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAEA,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EACnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MACR,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA3BD;;AA6BA,MAAMC,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAMxB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD;;eA0Ce;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660409682582},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dbStart = _interopRequireDefault(require(\"./dbStart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  dbStart: _dbStart.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYlN0YXJ0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJTdGFydCBmcm9tIFwiLi9kYlN0YXJ0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGJTdGFydCxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlO0VBQ2JBLE9BQU8sRUFBUEE7QUFEYSxDIn0=","map":{"version":3,"names":["dbStart"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/","sources":["index.js"],"sourcesContent":["import dbStart from \"./dbStart\";\n\nexport default {\n  dbStart,\n};\n"],"mappings":";;;;;;;AAAA;;;;eAEe;EACbA,OAAO,EAAPA;AADa,C"}},"mtime":1660320121950},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/dbStart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst initDataBase = async () => {\n  let url = `mongodb://localhost:27017/chat_db`;\n  console.log(\"starting database connection :\");\n\n  try {\n    await _mongoose.default.connect(url, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n      useCreateIndex: true,\n      keepAlive: true\n    });\n    console.log(\"chat database connected :\");\n  } catch (error) {\n    console.log(\"database error \", error);\n  }\n};\n\nvar _default = initDataBase;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbml0RGF0YUJhc2UiLCJ1cmwiLCJjb25zb2xlIiwibG9nIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlRmluZEFuZE1vZGlmeSIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4Iiwia2VlcEFsaXZlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRiU3RhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBpbml0RGF0YUJhc2UgPSBhc3luYyAoKSA9PiB7XG4gIGxldCB1cmwgPSBgbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9jaGF0X2RiYDtcbiAgY29uc29sZS5sb2coXCJzdGFydGluZyBkYXRhYmFzZSBjb25uZWN0aW9uIDpcIik7XG4gIHRyeSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdCh1cmwsIHtcbiAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgIHVzZUZpbmRBbmRNb2RpZnk6IGZhbHNlLFxuICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coXCJjaGF0IGRhdGFiYXNlIGNvbm5lY3RlZCA6XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiZGF0YWJhc2UgZXJyb3IgXCIsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdERhdGFCYXNlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsWUFBWTtFQUMvQixJQUFJQyxHQUFHLEdBQUksbUNBQVg7RUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQVo7O0VBQ0EsSUFBSTtJQUNGLE1BQU1DLGlCQUFBLENBQVNDLE9BQVQsQ0FBaUJKLEdBQWpCLEVBQXNCO01BQzFCSyxlQUFlLEVBQUUsSUFEUztNQUUxQkMsZ0JBQWdCLEVBQUUsS0FGUTtNQUcxQkMsa0JBQWtCLEVBQUUsSUFITTtNQUkxQkMsY0FBYyxFQUFFLElBSlU7TUFLMUJDLFNBQVMsRUFBRTtJQUxlLENBQXRCLENBQU47SUFPQVIsT0FBTyxDQUFDQyxHQUFSLENBQVksMkJBQVo7RUFDRCxDQVRELENBU0UsT0FBT1EsS0FBUCxFQUFjO0lBQ2RULE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQStCUSxLQUEvQjtFQUNEO0FBQ0YsQ0FmRDs7ZUFpQmVYLFkifQ==","map":{"version":3,"names":["initDataBase","url","console","log","mongoose","connect","useNewUrlParser","useFindAndModify","useUnifiedTopology","useCreateIndex","keepAlive","error"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/config/","sources":["dbStart.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst initDataBase = async () => {\n  let url = `mongodb://localhost:27017/chat_db`;\n  console.log(\"starting database connection :\");\n  try {\n    await mongoose.connect(url, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n      useCreateIndex: true,\n      keepAlive: true,\n    });\n    console.log(\"chat database connected :\");\n  } catch (error) {\n    console.log(\"database error \", error);\n  }\n};\n\nexport default initDataBase;\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,YAAY;EAC/B,IAAIC,GAAG,GAAI,mCAAX;EACAC,OAAO,CAACC,GAAR,CAAY,gCAAZ;;EACA,IAAI;IACF,MAAMC,iBAAA,CAASC,OAAT,CAAiBJ,GAAjB,EAAsB;MAC1BK,eAAe,EAAE,IADS;MAE1BC,gBAAgB,EAAE,KAFQ;MAG1BC,kBAAkB,EAAE,IAHM;MAI1BC,cAAc,EAAE,IAJU;MAK1BC,SAAS,EAAE;IALe,CAAtB,CAAN;IAOAR,OAAO,CAACC,GAAR,CAAY,2BAAZ;EACD,CATD,CASE,OAAOQ,KAAP,EAAc;IACdT,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BQ,KAA/B;EACD;AACF,CAfD;;eAiBeX,Y"}},"mtime":1660417647951},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _user.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNoYXRDb250cm9sbGVyIGZyb20gXCIuL2NoYXRcIjtcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgb25saW5lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vb25saW5lVXNlclwiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2hhdENvbnRyb2xsZXIsXG4gIHVzZXJDb250cm9sbGVyLFxuICBvbmxpbmVVc2VyQ29udHJvbGxlclxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O2VBRWU7RUFDYkEsY0FBYyxFQUFkQSxhQURhO0VBRWJDLGNBQWMsRUFBZEEsYUFGYTtFQUdiQyxvQkFBb0IsRUFBcEJBO0FBSGEsQyJ9","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./user\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,aAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660477155684},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJjaGF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5jb25zdCB7IGNoYXRNb2RlbCwgdXNlck1vZGVsIH0gPSBtb2RlbHM7XG5cbmNvbnN0IHNhdmVDaGF0ID0gYXN5bmMgKHJlcSkgPT4ge1xuICBjb25zdCB7IHVzZXIsIG1lc3NhZ2UsIHJlY2VpcGllbnQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgXG5cblxuXG5cblxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNhdmVDaGF0IH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU07RUFBRUEsU0FBRjtFQUFhQztBQUFiLElBQTJCQyxlQUFqQzs7QUFFQSxNQUFNQyxRQUFRLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQzlCLE1BQU07SUFBRUMsSUFBRjtJQUFRQyxPQUFSO0lBQWlCQztFQUFqQixJQUFnQ0gsR0FBRyxDQUFDSSxNQUExQztBQVNELENBVkQ7O2VBWWU7RUFBRUw7QUFBRixDIn0=","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatModel: _chat.default,\n  userModel: _user.default,\n  onlineUserModel: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJvbmxpbmVVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGF0TW9kZWwgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi91c2VyXCI7XG5pbXBvcnQgb25saW5lVXNlck1vZGVsIGZyb20gXCIuL29ubGluZVVzZXJcIlxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjaGF0TW9kZWwsXG4gICAgdXNlck1vZGVsLFxuICAgIG9ubGluZVVzZXJNb2RlbFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O2VBR2U7RUFDWEEsU0FBUyxFQUFUQSxhQURXO0VBRVhDLFNBQVMsRUFBVEEsYUFGVztFQUdYQyxlQUFlLEVBQWZBO0FBSFcsQyJ9","map":{"version":3,"names":["chatModel","userModel","onlineUserModel"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["index.js"],"sourcesContent":["import chatModel from \"./chat\";\nimport userModel from \"./user\";\nimport onlineUserModel from \"./onlineUser\"\n\n\nexport default {\n    chatModel,\n    userModel,\n    onlineUserModel\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAGe;EACXA,SAAS,EAATA,aADW;EAEXC,SAAS,EAATA,aAFW;EAGXC,eAAe,EAAfA;AAHW,C"}},"mtime":1660476457827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst ChatSchema = new Schema({\n  user: String,\n  messages: {\n    type: Array\n  }\n}); //object => {from, message, timestamp }\n\nvar _default = _mongoose.default.model(\"chat\", ChatSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNoYXRTY2hlbWEiLCJ1c2VyIiwiU3RyaW5nIiwibWVzc2FnZXMiLCJ0eXBlIiwiQXJyYXkiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiY2hhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgQ2hhdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB1c2VyOiBTdHJpbmcsXG4gIG1lc3NhZ2VzOiB7XG4gICAgdHlwZTogQXJyYXksXG4gIH1cbn0pO1xuXG4vL29iamVjdCA9PiB7ZnJvbSwgbWVzc2FnZSwgdGltZXN0YW1wIH1cblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjaGF0XCIsIENoYXRTY2hlbWEpOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBQSxDQUFTRCxNQUF4QjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7RUFDNUJHLElBQUksRUFBRUMsTUFEc0I7RUFFNUJDLFFBQVEsRUFBRTtJQUNSQyxJQUFJLEVBQUVDO0VBREU7QUFGa0IsQ0FBWCxDQUFuQixDLENBT0E7O2VBRWVOLGlCQUFBLENBQVNPLEtBQVQsQ0FBZSxNQUFmLEVBQXVCTixVQUF2QixDIn0=","map":{"version":3,"names":["Schema","mongoose","ChatSchema","user","String","messages","type","Array","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["chat.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst ChatSchema = new Schema({\n  user: String,\n  messages: {\n    type: Array,\n  }\n});\n\n//object => {from, message, timestamp }\n\nexport default mongoose.model(\"chat\", ChatSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;EAC5BG,IAAI,EAAEC,MADsB;EAE5BC,QAAQ,EAAE;IACRC,IAAI,EAAEC;EADE;AAFkB,CAAX,CAAnB,C,CAOA;;eAEeN,iBAAA,CAASO,KAAT,CAAe,MAAf,EAAuBN,UAAvB,C"}},"mtime":1660409227091},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  username: String,\n  password: String,\n  name: String\n});\n\nvar _default = _mongoose.default.model(\"user\", UserSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlVzZXJTY2hlbWEiLCJ1c2VybmFtZSIsIlN0cmluZyIsInBhc3N3b3JkIiwibmFtZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiBTdHJpbmcsXG4gIHBhc3N3b3JkOiBTdHJpbmcsXG4gIG5hbWU6IFN0cmluZyxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFBLENBQVNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztFQUM1QkcsUUFBUSxFQUFFQyxNQURrQjtFQUU1QkMsUUFBUSxFQUFFRCxNQUZrQjtFQUc1QkUsSUFBSSxFQUFFRjtBQUhzQixDQUFYLENBQW5COztlQU1lSCxpQkFBQSxDQUFTTSxLQUFULENBQWUsTUFBZixFQUF1QkwsVUFBdkIsQyJ9","map":{"version":3,"names":["Schema","mongoose","UserSchema","username","String","password","name","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["user.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst UserSchema = new Schema({\n  username: String,\n  password: String,\n  name: String,\n});\n\nexport default mongoose.model(\"user\", UserSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;EAC5BG,QAAQ,EAAEC,MADkB;EAE5BC,QAAQ,EAAED,MAFkB;EAG5BE,IAAI,EAAEF;AAHsB,CAAX,CAAnB;;eAMeH,iBAAA,CAASM,KAAT,CAAe,MAAf,EAAuBL,UAAvB,C"}},"mtime":1660317888213},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcblxuY29uc3QgeyB1c2VyTW9kZWwgfSA9IG1vZGVscztcbmNvbnN0IHsgc2VjcmV0X2tleSB9ID0gcHJvY2Vzcy5lbnY7XG5cbmNvbnN0IGNyZWF0ZU5ld1VzZXIgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgLy9jaGVjayBpZiBhY2NvdW50IGV4aXN0IGFscmVhZHlcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZSB9KTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGB1c2VyIHdpdGggJHt1c2VybmFtZX0gYWxyZWFkeSBleGlzdHNgLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IHVzZXJNb2RlbCh7XG4gICAgICBuYW1lLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaCxcbiAgICB9KTtcbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcklkLFxuICAgICAgbmFtZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gIH1cbn07XG5cbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jIChyZXEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlckFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7XG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICB9KTtcbiAgICBpZiAoIXVzZXJBY2NvdW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZGV0YWlscyBub3QgZm91bmRcIixcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyQWNjb3VudC5wYXNzd29yZCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgLy9yZXR1cm4gZXJyb3IgdG8gdXNlckFjY291bnQgdG8gbGV0IHRoZW0ga25vdyB0aGUgcGFzc3dvcmQgaXMgaW5jb3JyZWN0XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBjcmVkZW50aWFsc1wiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJBY2NvdW50LnVzZXJuYW1lLFxuICAgICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICAgIG5hbWU6IHVzZXJBY2NvdW50Lm5hbWUsXG4gICAgICB9LFxuICAgICAgc2VjcmV0X2tleVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcm5hbWU6IHVzZXJBY2NvdW50LnVzZXJuYW1lLFxuICAgICAgaWQ6IHVzZXJBY2NvdW50LmlkLFxuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBjcmVhdGVOZXdVc2VyLCBsb2dpblVzZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0EsTUFBTUEsVUFBVSxHQUFHLEVBQW5CO0FBRUEsTUFBTTtFQUFFQztBQUFGLElBQWdCQyxlQUF0QjtBQUNBLE1BQU07RUFBRUM7QUFBRixJQUFpQkMsT0FBTyxDQUFDQyxHQUEvQjs7QUFFQSxNQUFNQyxhQUFhLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0VBQ25DLE1BQU07SUFBRUMsSUFBRjtJQUFRQyxRQUFSO0lBQWtCQztFQUFsQixJQUErQkgsR0FBRyxDQUFDSSxJQUF6QyxDQURtQyxDQUVuQzs7RUFDQSxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLE1BQU1YLFNBQVMsQ0FBQ1ksT0FBVixDQUFrQjtNQUFFSjtJQUFGLENBQWxCLENBQW5COztJQUNBLElBQUlHLElBQUosRUFBVTtNQUNSLE9BQU87UUFDTEUsT0FBTyxFQUFFLEtBREo7UUFFTEMsT0FBTyxFQUFHLGFBQVlOLFFBQVM7TUFGMUIsQ0FBUDtJQUlEOztJQUNELE1BQU1PLElBQUksR0FBRyxNQUFNQyxlQUFBLENBQU9ELElBQVAsQ0FBWU4sUUFBWixFQUFzQlYsVUFBdEIsQ0FBbkI7SUFDQSxNQUFNa0IsT0FBTyxHQUFHLElBQUlqQixTQUFKLENBQWM7TUFDNUJPLElBRDRCO01BRTVCQyxRQUY0QjtNQUc1QkMsUUFBUSxFQUFFTTtJQUhrQixDQUFkLENBQWhCO0lBS0EsTUFBTUcsTUFBTSxHQUFHLE1BQU1ELE9BQU8sQ0FBQ0UsSUFBUixFQUFyQjtJQUNBLE9BQU87TUFDTEQsTUFESztNQUVMWCxJQUZLO01BR0xDLFFBSEs7TUFJTEssT0FBTyxFQUFFO0lBSkosQ0FBUDtFQU1ELENBckJELENBcUJFLE9BQU9PLEtBQVAsRUFBYztJQUNkQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0VBQ0Q7QUFDRixDQTNCRDs7QUE2QkEsTUFBTUMsU0FBUyxHQUFHLE1BQU9qQixHQUFQLElBQWU7RUFDL0IsSUFBSTtJQUNGLE1BQU07TUFBRUUsUUFBRjtNQUFZQztJQUFaLElBQXlCSCxHQUFHLENBQUNJLElBQW5DO0lBQ0EsTUFBTWMsV0FBVyxHQUFHLE1BQU14QixTQUFTLENBQUNZLE9BQVYsQ0FBa0I7TUFDMUNKLFFBQVEsRUFBRUEsUUFBUSxDQUFDaUIsV0FBVDtJQURnQyxDQUFsQixDQUExQjs7SUFHQSxJQUFJLENBQUNELFdBQUwsRUFBa0I7TUFDaEIsT0FBTztRQUNMVixPQUFPLEVBQUUsd0JBREo7UUFFTEQsT0FBTyxFQUFFO01BRkosQ0FBUDtJQUlEOztJQUNELE1BQU1hLEtBQUssR0FBRyxNQUFNVixlQUFBLENBQU9XLE9BQVAsQ0FBZWxCLFFBQWYsRUFBeUJlLFdBQVcsQ0FBQ2YsUUFBckMsQ0FBcEI7O0lBQ0EsSUFBSSxDQUFDaUIsS0FBTCxFQUFZO01BQ1Y7TUFDQSxPQUFPO1FBQ0xaLE9BQU8sRUFBRSx1QkFESjtRQUVMRCxPQUFPLEVBQUU7TUFGSixDQUFQO0lBSUQ7O0lBRUQsTUFBTWUsS0FBSyxHQUFHQyxxQkFBQSxDQUFJQyxJQUFKLENBQ1o7TUFDRXRCLFFBQVEsRUFBRWdCLFdBQVcsQ0FBQ2hCLFFBRHhCO01BRUV1QixFQUFFLEVBQUVQLFdBQVcsQ0FBQ08sRUFGbEI7TUFHRXhCLElBQUksRUFBRWlCLFdBQVcsQ0FBQ2pCO0lBSHBCLENBRFksRUFNWkwsVUFOWSxDQUFkOztJQVNBLE9BQU87TUFDTE0sUUFBUSxFQUFFZ0IsV0FBVyxDQUFDaEIsUUFEakI7TUFFTHVCLEVBQUUsRUFBRVAsV0FBVyxDQUFDTyxFQUZYO01BR0xILEtBQUssRUFBRUEsS0FIRjtNQUlMckIsSUFBSSxFQUFFaUIsV0FBVyxDQUFDakIsSUFKYjtNQUtMTSxPQUFPLEVBQUU7SUFMSixDQUFQO0VBT0QsQ0FwQ0QsQ0FvQ0UsTUFBTTtJQUNOUSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0VBQ0Q7QUFDRixDQXhDRDs7ZUEwQ2U7RUFBRWpCLGFBQUY7RUFBaUJrQjtBQUFqQixDIn0=","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["user.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\nconst createNewUser = async (req) => {\n  const { name, username, password } = req.body;\n  //check if account exist already\n  try {\n    const user = await userModel.findOne({ username });\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`,\n      };\n    }\n    const hash = await bcrypt.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash,\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAEA,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EACnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MACR,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA3BD;;AA6BA,MAAMC,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAMxB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD;;eA0Ce;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660409682582},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst OnlineUserSchema = new Schema({\n  username: String,\n  socketId: String,\n  name: String\n});\n\nvar _default = _mongoose.default.model(\"onlineUser\", OnlineUserSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIk9ubGluZVVzZXJTY2hlbWEiLCJ1c2VybmFtZSIsIlN0cmluZyIsInNvY2tldElkIiwibmFtZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJvbmxpbmVVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBPbmxpbmVVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiBTdHJpbmcsXG4gIHNvY2tldElkOiBTdHJpbmcsXG4gIG5hbWU6IFN0cmluZ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwib25saW5lVXNlclwiLCBPbmxpbmVVc2VyU2NoZW1hKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQUEsQ0FBU0QsTUFBeEI7QUFFQSxNQUFNRSxnQkFBZ0IsR0FBRyxJQUFJRixNQUFKLENBQVc7RUFDbENHLFFBQVEsRUFBRUMsTUFEd0I7RUFFbENDLFFBQVEsRUFBRUQsTUFGd0I7RUFHbENFLElBQUksRUFBRUY7QUFINEIsQ0FBWCxDQUF6Qjs7ZUFNZUgsaUJBQUEsQ0FBU00sS0FBVCxDQUFlLFlBQWYsRUFBNkJMLGdCQUE3QixDIn0=","map":{"version":3,"names":["Schema","mongoose","OnlineUserSchema","username","String","socketId","name","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["onlineUser.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst OnlineUserSchema = new Schema({\n  username: String,\n  socketId: String,\n  name: String\n});\n\nexport default mongoose.model(\"onlineUser\", OnlineUserSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,gBAAgB,GAAG,IAAIF,MAAJ,CAAW;EAClCG,QAAQ,EAAEC,MADwB;EAElCC,QAAQ,EAAED,MAFwB;EAGlCE,IAAI,EAAEF;AAH4B,CAAX,CAAzB;;eAMeH,iBAAA,CAASM,KAAT,CAAe,YAAf,EAA6BL,gBAA7B,C"}},"mtime":1660476341700},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst OnlineUserSchema = new Schema({\n  username: String,\n  socketId: String,\n  name: String\n});\n\nvar _default = _mongoose.default.model(\"onlineUser\", OnlineUserSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIk9ubGluZVVzZXJTY2hlbWEiLCJ1c2VybmFtZSIsIlN0cmluZyIsInNvY2tldElkIiwibmFtZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJvbmxpbmVVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCBPbmxpbmVVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiBTdHJpbmcsXG4gIHNvY2tldElkOiBTdHJpbmcsXG4gIG5hbWU6IFN0cmluZ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwib25saW5lVXNlclwiLCBPbmxpbmVVc2VyU2NoZW1hKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQUEsQ0FBU0QsTUFBeEI7QUFFQSxNQUFNRSxnQkFBZ0IsR0FBRyxJQUFJRixNQUFKLENBQVc7RUFDbENHLFFBQVEsRUFBRUMsTUFEd0I7RUFFbENDLFFBQVEsRUFBRUQsTUFGd0I7RUFHbENFLElBQUksRUFBRUY7QUFINEIsQ0FBWCxDQUF6Qjs7ZUFNZUgsaUJBQUEsQ0FBU00sS0FBVCxDQUFlLFlBQWYsRUFBNkJMLGdCQUE3QixDIn0=","map":{"version":3,"names":["Schema","mongoose","OnlineUserSchema","username","String","socketId","name","model"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/models/","sources":["onlineUser.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst Schema = mongoose.Schema;\n\nconst OnlineUserSchema = new Schema({\n  username: String,\n  socketId: String,\n  name: String\n});\n\nexport default mongoose.model(\"onlineUser\", OnlineUserSchema);"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAA,CAASD,MAAxB;AAEA,MAAME,gBAAgB,GAAG,IAAIF,MAAJ,CAAW;EAClCG,QAAQ,EAAEC,MADwB;EAElCC,QAAQ,EAAED,MAFwB;EAGlCE,IAAI,EAAEF;AAH4B,CAAX,CAAzB;;eAMeH,iBAAA,CAASM,KAAT,CAAe,YAAf,EAA6BL,gBAA7B,C"}},"mtime":1660476341700},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  onlineUserModel\n} = _models.default;\n\nconst saveOnlineUser = async ({\n  username,\n  name,\n  socketId\n}) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({\n      username\n    });\n\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId\n      });\n    }\n\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({\n  username\n}) => {\n  const [, onlineUsers] = await Promise.all([onlineUserModel.remove({\n    username\n  }), onlineUsers = await onlineUserModel.find()]); //return the rest users online\n\n  return onlineUsers;\n};\n\nvar _default = {\n  saveOnlineUser,\n  removeOnlineUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvbmxpbmVVc2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlT25saW5lVXNlciIsInVzZXJuYW1lIiwibmFtZSIsInNvY2tldElkIiwidXNlck9ubGluZSIsImZpbmRPbmUiLCJuZXdVc2VyT25saW5lIiwiZGF0YSIsInNhdmUiLCJpZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlbW92ZU9ubGluZVVzZXIiLCJvbmxpbmVVc2VycyIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIm9ubGluZVVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmNvbnN0IHsgb25saW5lVXNlck1vZGVsIH0gPSBtb2RlbHM7XG5cbmNvbnN0IHNhdmVPbmxpbmVVc2VyID0gYXN5bmMgKHsgdXNlcm5hbWUsIG5hbWUsIHNvY2tldElkIH0pID0+IHtcbiAgLy9jaGVjayBpZiBhY2NvdW50IGV4aXN0IGFscmVhZHlcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyT25saW5lID0gYXdhaXQgb25saW5lVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZSB9KTtcbiAgICBpZiAoIXVzZXJPbmxpbmUpIHtcbiAgICAgIGNvbnN0IG5ld1VzZXJPbmxpbmUgPSBuZXcgb25saW5lVXNlck1vZGVsKHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNvY2tldElkLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXdVc2VyT25saW5lLnNhdmUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcm5hbWUsXG4gICAgICBzb2NrZXRJZCxcbiAgICAgIG5hbWUsXG4gICAgICBpZDogZGF0YS5pZCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gIH1cbn07XG5cbmNvbnN0IHJlbW92ZU9ubGluZVVzZXIgPSBhc3luYyAoeyB1c2VybmFtZSB9KSA9PiB7XG4gIGNvbnN0IFssIG9ubGluZVVzZXJzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBvbmxpbmVVc2VyTW9kZWwucmVtb3ZlKHsgdXNlcm5hbWUgfSksXG4gICAgKG9ubGluZVVzZXJzID0gYXdhaXQgb25saW5lVXNlck1vZGVsLmZpbmQoKSksXG4gIF0pO1xuICAvL3JldHVybiB0aGUgcmVzdCB1c2VycyBvbmxpbmVcbiAgcmV0dXJuIG9ubGluZVVzZXJzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBzYXZlT25saW5lVXNlciwgcmVtb3ZlT25saW5lVXNlciB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNO0VBQUVBO0FBQUYsSUFBc0JDLGVBQTVCOztBQUVBLE1BQU1DLGNBQWMsR0FBRyxPQUFPO0VBQUVDLFFBQUY7RUFBWUMsSUFBWjtFQUFrQkM7QUFBbEIsQ0FBUCxLQUF3QztFQUM3RDtFQUNBLElBQUk7SUFDRixNQUFNQyxVQUFVLEdBQUcsTUFBTU4sZUFBZSxDQUFDTyxPQUFoQixDQUF3QjtNQUFFSjtJQUFGLENBQXhCLENBQXpCOztJQUNBLElBQUksQ0FBQ0csVUFBTCxFQUFpQjtNQUNmLE1BQU1FLGFBQWEsR0FBRyxJQUFJUixlQUFKLENBQW9CO1FBQ3hDRyxRQUR3QztRQUV4Q0MsSUFGd0M7UUFHeENDO01BSHdDLENBQXBCLENBQXRCO0lBS0Q7O0lBQ0QsTUFBTUksSUFBSSxHQUFHLE1BQU1ELGFBQWEsQ0FBQ0UsSUFBZCxFQUFuQjtJQUNBLE9BQU87TUFDTFAsUUFESztNQUVMRSxRQUZLO01BR0xELElBSEs7TUFJTE8sRUFBRSxFQUFFRixJQUFJLENBQUNFO0lBSkosQ0FBUDtFQU1ELENBaEJELENBZ0JFLE9BQU9DLEtBQVAsRUFBYztJQUNkQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0VBQ0Q7QUFDRixDQXJCRDs7QUF1QkEsTUFBTUMsZ0JBQWdCLEdBQUcsT0FBTztFQUFFWjtBQUFGLENBQVAsS0FBd0I7RUFDL0MsTUFBTSxHQUFHYSxXQUFILElBQWtCLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLENBQ3hDbEIsZUFBZSxDQUFDbUIsTUFBaEIsQ0FBdUI7SUFBRWhCO0VBQUYsQ0FBdkIsQ0FEd0MsRUFFdkNhLFdBQVcsR0FBRyxNQUFNaEIsZUFBZSxDQUFDb0IsSUFBaEIsRUFGbUIsQ0FBWixDQUE5QixDQUQrQyxDQUsvQzs7RUFDQSxPQUFPSixXQUFQO0FBQ0QsQ0FQRDs7ZUFTZTtFQUFFZCxjQUFGO0VBQWtCYTtBQUFsQixDIn0=","map":{"version":3,"names":["onlineUserModel","models","saveOnlineUser","username","name","socketId","userOnline","findOne","newUserOnline","data","save","id","error","console","log","removeOnlineUser","onlineUsers","Promise","all","remove","find"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controllers/","sources":["onlineUser.js"],"sourcesContent":["import models from \"../models\";\n\nconst { onlineUserModel } = models;\n\nconst saveOnlineUser = async ({ username, name, socketId }) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({ username });\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId,\n      });\n    }\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({ username }) => {\n  const [, onlineUsers] = await Promise.all([\n    onlineUserModel.remove({ username }),\n    (onlineUsers = await onlineUserModel.find()),\n  ]);\n  //return the rest users online\n  return onlineUsers;\n};\n\nexport default { saveOnlineUser, removeOnlineUser };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA;AAAF,IAAsBC,eAA5B;;AAEA,MAAMC,cAAc,GAAG,OAAO;EAAEC,QAAF;EAAYC,IAAZ;EAAkBC;AAAlB,CAAP,KAAwC;EAC7D;EACA,IAAI;IACF,MAAMC,UAAU,GAAG,MAAMN,eAAe,CAACO,OAAhB,CAAwB;MAAEJ;IAAF,CAAxB,CAAzB;;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,MAAME,aAAa,GAAG,IAAIR,eAAJ,CAAoB;QACxCG,QADwC;QAExCC,IAFwC;QAGxCC;MAHwC,CAApB,CAAtB;IAKD;;IACD,MAAMI,IAAI,GAAG,MAAMD,aAAa,CAACE,IAAd,EAAnB;IACA,OAAO;MACLP,QADK;MAELE,QAFK;MAGLD,IAHK;MAILO,EAAE,EAAEF,IAAI,CAACE;IAJJ,CAAP;EAMD,CAhBD,CAgBE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CArBD;;AAuBA,MAAMC,gBAAgB,GAAG,OAAO;EAAEZ;AAAF,CAAP,KAAwB;EAC/C,MAAM,GAAGa,WAAH,IAAkB,MAAMC,OAAO,CAACC,GAAR,CAAY,CACxClB,eAAe,CAACmB,MAAhB,CAAuB;IAAEhB;EAAF,CAAvB,CADwC,EAEvCa,WAAW,GAAG,MAAMhB,eAAe,CAACoB,IAAhB,EAFmB,CAAZ,CAA9B,CAD+C,CAK/C;;EACA,OAAOJ,WAAP;AACD,CAPD;;eASe;EAAEd,cAAF;EAAkBa;AAAlB,C"}},"mtime":1660477091312},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _user.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2V2ZW50SGFuZGxlcnMuanMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhdENvbnRyb2xsZXIgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuL3VzZXJcIjtcbmltcG9ydCBvbmxpbmVVc2VyQ29udHJvbGxlciBmcm9tIFwiLi9vbmxpbmVVc2VyXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjaGF0Q29udHJvbGxlcixcbiAgdXNlckNvbnRyb2xsZXIsXG4gIG9ubGluZVVzZXJDb250cm9sbGVyXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7ZUFFZTtFQUNiQSxjQUFjLEVBQWRBLGFBRGE7RUFFYkMsY0FBYyxFQUFkQSxhQUZhO0VBR2JDLG9CQUFvQixFQUFwQkE7QUFIYSxDIn0=","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./user\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,aAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660477155684},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvZXZlbnRIYW5kbGVycy5qcy8iLCJzb3VyY2VzIjpbImNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmNvbnN0IHsgY2hhdE1vZGVsLCB1c2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZUNoYXQgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbWVzc2FnZSwgcmVjZWlwaWVudCB9ID0gcmVxLnBhcmFtcztcblxuICBcblxuXG5cblxuXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgc2F2ZUNoYXQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTTtFQUFFQSxTQUFGO0VBQWFDO0FBQWIsSUFBMkJDLGVBQWpDOztBQUVBLE1BQU1DLFFBQVEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDOUIsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLE9BQVI7SUFBaUJDO0VBQWpCLElBQWdDSCxHQUFHLENBQUNJLE1BQTFDO0FBU0QsQ0FWRDs7ZUFZZTtFQUFFTDtBQUFGLEMifQ==","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvZXZlbnRIYW5kbGVycy5qcy8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuXG5jb25zdCB7IHVzZXJNb2RlbCB9ID0gbW9kZWxzO1xuY29uc3QgeyBzZWNyZXRfa2V5IH0gPSBwcm9jZXNzLmVudjtcblxuY29uc3QgY3JlYXRlTmV3VXNlciA9IGFzeW5jIChyZXEpID0+IHtcbiAgY29uc3QgeyBuYW1lLCB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogYHVzZXIgd2l0aCAke3VzZXJuYW1lfSBhbHJlYWR5IGV4aXN0c2AsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHRSb3VuZHMpO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgdXNlck1vZGVsKHtcbiAgICAgIG5hbWUsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIHBhc3N3b3JkOiBoYXNoLFxuICAgIH0pO1xuICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IG5ld1VzZXIuc2F2ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQsXG4gICAgICBuYW1lLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VyQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgIH0pO1xuICAgIGlmICghdXNlckFjY291bnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkZXRhaWxzIG5vdCBmb3VuZFwiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXJBY2NvdW50LnBhc3N3b3JkKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAvL3JldHVybiBlcnJvciB0byB1c2VyQWNjb3VudCB0byBsZXQgdGhlbSBrbm93IHRoZSBwYXNzd29yZCBpcyBpbmNvcnJlY3RcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiSW5jb3JyZWN0IGNyZWRlbnRpYWxzXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICAgIGlkOiB1c2VyQWNjb3VudC5pZCxcbiAgICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgIH0sXG4gICAgICBzZWNyZXRfa2V5XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICBuYW1lOiB1c2VyQWNjb3VudC5uYW1lLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGNyZWF0ZU5ld1VzZXIsIGxvZ2luVXNlciB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxVQUFVLEdBQUcsRUFBbkI7QUFFQSxNQUFNO0VBQUVDO0FBQUYsSUFBZ0JDLGVBQXRCO0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWlCQyxPQUFPLENBQUNDLEdBQS9COztBQUVBLE1BQU1DLGFBQWEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDbkMsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLFFBQVI7SUFBa0JDO0VBQWxCLElBQStCSCxHQUFHLENBQUNJLElBQXpDLENBRG1DLENBRW5DOztFQUNBLElBQUk7SUFDRixNQUFNQyxJQUFJLEdBQUcsTUFBTVgsU0FBUyxDQUFDWSxPQUFWLENBQWtCO01BQUVKO0lBQUYsQ0FBbEIsQ0FBbkI7O0lBQ0EsSUFBSUcsSUFBSixFQUFVO01BQ1IsT0FBTztRQUNMRSxPQUFPLEVBQUUsS0FESjtRQUVMQyxPQUFPLEVBQUcsYUFBWU4sUUFBUztNQUYxQixDQUFQO0lBSUQ7O0lBQ0QsTUFBTU8sSUFBSSxHQUFHLE1BQU1DLGVBQUEsQ0FBT0QsSUFBUCxDQUFZTixRQUFaLEVBQXNCVixVQUF0QixDQUFuQjtJQUNBLE1BQU1rQixPQUFPLEdBQUcsSUFBSWpCLFNBQUosQ0FBYztNQUM1Qk8sSUFENEI7TUFFNUJDLFFBRjRCO01BRzVCQyxRQUFRLEVBQUVNO0lBSGtCLENBQWQsQ0FBaEI7SUFLQSxNQUFNRyxNQUFNLEdBQUcsTUFBTUQsT0FBTyxDQUFDRSxJQUFSLEVBQXJCO0lBQ0EsT0FBTztNQUNMRCxNQURLO01BRUxYLElBRks7TUFHTEMsUUFISztNQUlMSyxPQUFPLEVBQUU7SUFKSixDQUFQO0VBTUQsQ0FyQkQsQ0FxQkUsT0FBT08sS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBM0JEOztBQTZCQSxNQUFNQyxTQUFTLEdBQUcsTUFBT2pCLEdBQVAsSUFBZTtFQUMvQixJQUFJO0lBQ0YsTUFBTTtNQUFFRSxRQUFGO01BQVlDO0lBQVosSUFBeUJILEdBQUcsQ0FBQ0ksSUFBbkM7SUFDQSxNQUFNYyxXQUFXLEdBQUcsTUFBTXhCLFNBQVMsQ0FBQ1ksT0FBVixDQUFrQjtNQUMxQ0osUUFBUSxFQUFFQSxRQUFRLENBQUNpQixXQUFUO0lBRGdDLENBQWxCLENBQTFCOztJQUdBLElBQUksQ0FBQ0QsV0FBTCxFQUFrQjtNQUNoQixPQUFPO1FBQ0xWLE9BQU8sRUFBRSx3QkFESjtRQUVMRCxPQUFPLEVBQUU7TUFGSixDQUFQO0lBSUQ7O0lBQ0QsTUFBTWEsS0FBSyxHQUFHLE1BQU1WLGVBQUEsQ0FBT1csT0FBUCxDQUFlbEIsUUFBZixFQUF5QmUsV0FBVyxDQUFDZixRQUFyQyxDQUFwQjs7SUFDQSxJQUFJLENBQUNpQixLQUFMLEVBQVk7TUFDVjtNQUNBLE9BQU87UUFDTFosT0FBTyxFQUFFLHVCQURKO1FBRUxELE9BQU8sRUFBRTtNQUZKLENBQVA7SUFJRDs7SUFFRCxNQUFNZSxLQUFLLEdBQUdDLHFCQUFBLENBQUlDLElBQUosQ0FDWjtNQUNFdEIsUUFBUSxFQUFFZ0IsV0FBVyxDQUFDaEIsUUFEeEI7TUFFRXVCLEVBQUUsRUFBRVAsV0FBVyxDQUFDTyxFQUZsQjtNQUdFeEIsSUFBSSxFQUFFaUIsV0FBVyxDQUFDakI7SUFIcEIsQ0FEWSxFQU1aTCxVQU5ZLENBQWQ7O0lBU0EsT0FBTztNQUNMTSxRQUFRLEVBQUVnQixXQUFXLENBQUNoQixRQURqQjtNQUVMdUIsRUFBRSxFQUFFUCxXQUFXLENBQUNPLEVBRlg7TUFHTEgsS0FBSyxFQUFFQSxLQUhGO01BSUxyQixJQUFJLEVBQUVpQixXQUFXLENBQUNqQixJQUpiO01BS0xNLE9BQU8sRUFBRTtJQUxKLENBQVA7RUFPRCxDQXBDRCxDQW9DRSxNQUFNO0lBQ05RLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBeENEOztlQTBDZTtFQUFFakIsYUFBRjtFQUFpQmtCO0FBQWpCLEMifQ==","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["user.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\nconst createNewUser = async (req) => {\n  const { name, username, password } = req.body;\n  //check if account exist already\n  try {\n    const user = await userModel.findOne({ username });\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`,\n      };\n    }\n    const hash = await bcrypt.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash,\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAEA,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EACnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MACR,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA3BD;;AA6BA,MAAMC,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAMxB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD;;eA0Ce;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660409682582},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  onlineUserModel\n} = _models.default;\n\nconst saveOnlineUser = async ({\n  username,\n  name,\n  socketId\n}) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({\n      username\n    });\n\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId\n      });\n    }\n\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({\n  username\n}) => {\n  const [, onlineUsers] = await Promise.all([onlineUserModel.remove({\n    username\n  }), onlineUsers = await onlineUserModel.find()]); //return the rest users online\n\n  return onlineUsers;\n};\n\nvar _default = {\n  saveOnlineUser,\n  removeOnlineUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvbmxpbmVVc2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlT25saW5lVXNlciIsInVzZXJuYW1lIiwibmFtZSIsInNvY2tldElkIiwidXNlck9ubGluZSIsImZpbmRPbmUiLCJuZXdVc2VyT25saW5lIiwiZGF0YSIsInNhdmUiLCJpZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlbW92ZU9ubGluZVVzZXIiLCJvbmxpbmVVc2VycyIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9ldmVudEhhbmRsZXJzLmpzLyIsInNvdXJjZXMiOlsib25saW5lVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcblxuY29uc3QgeyBvbmxpbmVVc2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZU9ubGluZVVzZXIgPSBhc3luYyAoeyB1c2VybmFtZSwgbmFtZSwgc29ja2V0SWQgfSkgPT4ge1xuICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXJPbmxpbmUgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xuICAgIGlmICghdXNlck9ubGluZSkge1xuICAgICAgY29uc3QgbmV3VXNlck9ubGluZSA9IG5ldyBvbmxpbmVVc2VyTW9kZWwoe1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc29ja2V0SWQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ld1VzZXJPbmxpbmUuc2F2ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIHNvY2tldElkLFxuICAgICAgbmFtZSxcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuY29uc3QgcmVtb3ZlT25saW5lVXNlciA9IGFzeW5jICh7IHVzZXJuYW1lIH0pID0+IHtcbiAgY29uc3QgWywgb25saW5lVXNlcnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIG9ubGluZVVzZXJNb2RlbC5yZW1vdmUoeyB1c2VybmFtZSB9KSxcbiAgICAob25saW5lVXNlcnMgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZCgpKSxcbiAgXSk7XG4gIC8vcmV0dXJuIHRoZSByZXN0IHVzZXJzIG9ubGluZVxuICByZXR1cm4gb25saW5lVXNlcnM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNhdmVPbmxpbmVVc2VyLCByZW1vdmVPbmxpbmVVc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFzQkMsZUFBNUI7O0FBRUEsTUFBTUMsY0FBYyxHQUFHLE9BQU87RUFBRUMsUUFBRjtFQUFZQyxJQUFaO0VBQWtCQztBQUFsQixDQUFQLEtBQXdDO0VBQzdEO0VBQ0EsSUFBSTtJQUNGLE1BQU1DLFVBQVUsR0FBRyxNQUFNTixlQUFlLENBQUNPLE9BQWhCLENBQXdCO01BQUVKO0lBQUYsQ0FBeEIsQ0FBekI7O0lBQ0EsSUFBSSxDQUFDRyxVQUFMLEVBQWlCO01BQ2YsTUFBTUUsYUFBYSxHQUFHLElBQUlSLGVBQUosQ0FBb0I7UUFDeENHLFFBRHdDO1FBRXhDQyxJQUZ3QztRQUd4Q0M7TUFId0MsQ0FBcEIsQ0FBdEI7SUFLRDs7SUFDRCxNQUFNSSxJQUFJLEdBQUcsTUFBTUQsYUFBYSxDQUFDRSxJQUFkLEVBQW5CO0lBQ0EsT0FBTztNQUNMUCxRQURLO01BRUxFLFFBRks7TUFHTEQsSUFISztNQUlMTyxFQUFFLEVBQUVGLElBQUksQ0FBQ0U7SUFKSixDQUFQO0VBTUQsQ0FoQkQsQ0FnQkUsT0FBT0MsS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBckJEOztBQXVCQSxNQUFNQyxnQkFBZ0IsR0FBRyxPQUFPO0VBQUVaO0FBQUYsQ0FBUCxLQUF3QjtFQUMvQyxNQUFNLEdBQUdhLFdBQUgsSUFBa0IsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDeENsQixlQUFlLENBQUNtQixNQUFoQixDQUF1QjtJQUFFaEI7RUFBRixDQUF2QixDQUR3QyxFQUV2Q2EsV0FBVyxHQUFHLE1BQU1oQixlQUFlLENBQUNvQixJQUFoQixFQUZtQixDQUFaLENBQTlCLENBRCtDLENBSy9DOztFQUNBLE9BQU9KLFdBQVA7QUFDRCxDQVBEOztlQVNlO0VBQUVkLGNBQUY7RUFBa0JhO0FBQWxCLEMifQ==","map":{"version":3,"names":["onlineUserModel","models","saveOnlineUser","username","name","socketId","userOnline","findOne","newUserOnline","data","save","id","error","console","log","removeOnlineUser","onlineUsers","Promise","all","remove","find"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["onlineUser.js"],"sourcesContent":["import models from \"../models\";\n\nconst { onlineUserModel } = models;\n\nconst saveOnlineUser = async ({ username, name, socketId }) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({ username });\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId,\n      });\n    }\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({ username }) => {\n  const [, onlineUsers] = await Promise.all([\n    onlineUserModel.remove({ username }),\n    (onlineUsers = await onlineUserModel.find()),\n  ]);\n  //return the rest users online\n  return onlineUsers;\n};\n\nexport default { saveOnlineUser, removeOnlineUser };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA;AAAF,IAAsBC,eAA5B;;AAEA,MAAMC,cAAc,GAAG,OAAO;EAAEC,QAAF;EAAYC,IAAZ;EAAkBC;AAAlB,CAAP,KAAwC;EAC7D;EACA,IAAI;IACF,MAAMC,UAAU,GAAG,MAAMN,eAAe,CAACO,OAAhB,CAAwB;MAAEJ;IAAF,CAAxB,CAAzB;;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,MAAME,aAAa,GAAG,IAAIR,eAAJ,CAAoB;QACxCG,QADwC;QAExCC,IAFwC;QAGxCC;MAHwC,CAApB,CAAtB;IAKD;;IACD,MAAMI,IAAI,GAAG,MAAMD,aAAa,CAACE,IAAd,EAAnB;IACA,OAAO;MACLP,QADK;MAELE,QAFK;MAGLD,IAHK;MAILO,EAAE,EAAEF,IAAI,CAACE;IAJJ,CAAP;EAMD,CAhBD,CAgBE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CArBD;;AAuBA,MAAMC,gBAAgB,GAAG,OAAO;EAAEZ;AAAF,CAAP,KAAwB;EAC/C,MAAM,GAAGa,WAAH,IAAkB,MAAMC,OAAO,CAACC,GAAR,CAAY,CACxClB,eAAe,CAACmB,MAAhB,CAAuB;IAAEhB;EAAF,CAAvB,CADwC,EAEvCa,WAAW,GAAG,MAAMhB,eAAe,CAACoB,IAAhB,EAFmB,CAAZ,CAA9B,CAD+C,CAK/C;;EACA,OAAOJ,WAAP;AACD,CAPD;;eASe;EAAEd,cAAF;EAAkBa;AAAlB,C"}},"mtime":1660477091312},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _userHandler = _interopRequireDefault(require(\"./userHandler\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _userHandler.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2V2ZW50SGFuZGxlcnMuanMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhdENvbnRyb2xsZXIgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuL3VzZXJIYW5kbGVyXCI7XG5pbXBvcnQgb25saW5lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vb25saW5lVXNlclwiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2hhdENvbnRyb2xsZXIsXG4gIHVzZXJDb250cm9sbGVyLFxuICBvbmxpbmVVc2VyQ29udHJvbGxlclxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O2VBRWU7RUFDYkEsY0FBYyxFQUFkQSxhQURhO0VBRWJDLGNBQWMsRUFBZEEsb0JBRmE7RUFHYkMsb0JBQW9CLEVBQXBCQTtBQUhhLEMifQ==","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./userHandler\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,oBAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660480683830},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/userHandler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvZXZlbnRIYW5kbGVycy5qcy8iLCJzb3VyY2VzIjpbInVzZXJIYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcblxuY29uc3QgeyB1c2VyTW9kZWwgfSA9IG1vZGVscztcbmNvbnN0IHsgc2VjcmV0X2tleSB9ID0gcHJvY2Vzcy5lbnY7XG5cblxuXG5cblxuXG5jb25zdCBjcmVhdGVOZXdVc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuICBjb25zdCB7IG5hbWUsIHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIC8vY2hlY2sgaWYgYWNjb3VudCBleGlzdCBhbHJlYWR5XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgdXNlcm5hbWUgfSk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgdXNlciB3aXRoICR7dXNlcm5hbWV9IGFscmVhZHkgZXhpc3RzYCxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG4gICAgY29uc3QgbmV3VXNlciA9IG5ldyB1c2VyTW9kZWwoe1xuICAgICAgbmFtZSxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IGhhc2gsXG4gICAgfSk7XG4gICAgY29uc3QgdXNlcklkID0gYXdhaXQgbmV3VXNlci5zYXZlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIG5hbWUsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICB9XG59O1xuXG5jb25zdCBsb2dpblVzZXIgPSBhc3luYyAocmVxKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe1xuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgfSk7XG4gICAgaWYgKCF1c2VyQWNjb3VudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGRldGFpbHMgbm90IGZvdW5kXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlckFjY291bnQucGFzc3dvcmQpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIC8vcmV0dXJuIGVycm9yIHRvIHVzZXJBY2NvdW50IHRvIGxldCB0aGVtIGtub3cgdGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogXCJJbmNvcnJlY3QgY3JlZGVudGlhbHNcIixcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyQWNjb3VudC51c2VybmFtZSxcbiAgICAgICAgaWQ6IHVzZXJBY2NvdW50LmlkLFxuICAgICAgICBuYW1lOiB1c2VyQWNjb3VudC5uYW1lLFxuICAgICAgfSxcbiAgICAgIHNlY3JldF9rZXlcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyQWNjb3VudC51c2VybmFtZSxcbiAgICAgIGlkOiB1c2VyQWNjb3VudC5pZCxcbiAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgIG5hbWU6IHVzZXJBY2NvdW50Lm5hbWUsXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlTmV3VXNlciwgbG9naW5Vc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUNBLE1BQU1BLFVBQVUsR0FBRyxFQUFuQjtBQUVBLE1BQU07RUFBRUM7QUFBRixJQUFnQkMsZUFBdEI7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBaUJDLE9BQU8sQ0FBQ0MsR0FBL0I7O0FBT0EsTUFBTUMsYUFBYSxHQUFHLE1BQU9DLEdBQVAsSUFBZTtFQUNuQyxNQUFNO0lBQUVDLElBQUY7SUFBUUMsUUFBUjtJQUFrQkM7RUFBbEIsSUFBK0JILEdBQUcsQ0FBQ0ksSUFBekMsQ0FEbUMsQ0FFbkM7O0VBQ0EsSUFBSTtJQUNGLE1BQU1DLElBQUksR0FBRyxNQUFNWCxTQUFTLENBQUNZLE9BQVYsQ0FBa0I7TUFBRUo7SUFBRixDQUFsQixDQUFuQjs7SUFDQSxJQUFJRyxJQUFKLEVBQVU7TUFDUixPQUFPO1FBQ0xFLE9BQU8sRUFBRSxLQURKO1FBRUxDLE9BQU8sRUFBRyxhQUFZTixRQUFTO01BRjFCLENBQVA7SUFJRDs7SUFDRCxNQUFNTyxJQUFJLEdBQUcsTUFBTUMsZUFBQSxDQUFPRCxJQUFQLENBQVlOLFFBQVosRUFBc0JWLFVBQXRCLENBQW5CO0lBQ0EsTUFBTWtCLE9BQU8sR0FBRyxJQUFJakIsU0FBSixDQUFjO01BQzVCTyxJQUQ0QjtNQUU1QkMsUUFGNEI7TUFHNUJDLFFBQVEsRUFBRU07SUFIa0IsQ0FBZCxDQUFoQjtJQUtBLE1BQU1HLE1BQU0sR0FBRyxNQUFNRCxPQUFPLENBQUNFLElBQVIsRUFBckI7SUFDQSxPQUFPO01BQ0xELE1BREs7TUFFTFgsSUFGSztNQUdMQyxRQUhLO01BSUxLLE9BQU8sRUFBRTtJQUpKLENBQVA7RUFNRCxDQXJCRCxDQXFCRSxPQUFPTyxLQUFQLEVBQWM7SUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtFQUNEO0FBQ0YsQ0EzQkQ7O0FBNkJBLE1BQU1DLFNBQVMsR0FBRyxNQUFPakIsR0FBUCxJQUFlO0VBQy9CLElBQUk7SUFDRixNQUFNO01BQUVFLFFBQUY7TUFBWUM7SUFBWixJQUF5QkgsR0FBRyxDQUFDSSxJQUFuQztJQUNBLE1BQU1jLFdBQVcsR0FBRyxNQUFNeEIsU0FBUyxDQUFDWSxPQUFWLENBQWtCO01BQzFDSixRQUFRLEVBQUVBLFFBQVEsQ0FBQ2lCLFdBQVQ7SUFEZ0MsQ0FBbEIsQ0FBMUI7O0lBR0EsSUFBSSxDQUFDRCxXQUFMLEVBQWtCO01BQ2hCLE9BQU87UUFDTFYsT0FBTyxFQUFFLHdCQURKO1FBRUxELE9BQU8sRUFBRTtNQUZKLENBQVA7SUFJRDs7SUFDRCxNQUFNYSxLQUFLLEdBQUcsTUFBTVYsZUFBQSxDQUFPVyxPQUFQLENBQWVsQixRQUFmLEVBQXlCZSxXQUFXLENBQUNmLFFBQXJDLENBQXBCOztJQUNBLElBQUksQ0FBQ2lCLEtBQUwsRUFBWTtNQUNWO01BQ0EsT0FBTztRQUNMWixPQUFPLEVBQUUsdUJBREo7UUFFTEQsT0FBTyxFQUFFO01BRkosQ0FBUDtJQUlEOztJQUVELE1BQU1lLEtBQUssR0FBR0MscUJBQUEsQ0FBSUMsSUFBSixDQUNaO01BQ0V0QixRQUFRLEVBQUVnQixXQUFXLENBQUNoQixRQUR4QjtNQUVFdUIsRUFBRSxFQUFFUCxXQUFXLENBQUNPLEVBRmxCO01BR0V4QixJQUFJLEVBQUVpQixXQUFXLENBQUNqQjtJQUhwQixDQURZLEVBTVpMLFVBTlksQ0FBZDs7SUFTQSxPQUFPO01BQ0xNLFFBQVEsRUFBRWdCLFdBQVcsQ0FBQ2hCLFFBRGpCO01BRUx1QixFQUFFLEVBQUVQLFdBQVcsQ0FBQ08sRUFGWDtNQUdMSCxLQUFLLEVBQUVBLEtBSEY7TUFJTHJCLElBQUksRUFBRWlCLFdBQVcsQ0FBQ2pCLElBSmI7TUFLTE0sT0FBTyxFQUFFO0lBTEosQ0FBUDtFQU9ELENBcENELENBb0NFLE1BQU07SUFDTlEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtFQUNEO0FBQ0YsQ0F4Q0Q7O2VBMENlO0VBQUVqQixhQUFGO0VBQWlCa0I7QUFBakIsQyJ9","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["userHandler.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\n\n\n\n\n\nconst createNewUser = async (req) => {\n  const { name, username, password } = req.body;\n  //check if account exist already\n  try {\n    const user = await userModel.findOne({ username });\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`,\n      };\n    }\n    const hash = await bcrypt.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash,\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAOA,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EACnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MACR,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA3BD;;AA6BA,MAAMC,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAMxB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD;;eA0Ce;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660480692602},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvZXZlbnRIYW5kbGVycy5qcy8iLCJzb3VyY2VzIjpbImNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmNvbnN0IHsgY2hhdE1vZGVsLCB1c2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZUNoYXQgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbWVzc2FnZSwgcmVjZWlwaWVudCB9ID0gcmVxLnBhcmFtcztcblxuICBcblxuXG5cblxuXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgc2F2ZUNoYXQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTTtFQUFFQSxTQUFGO0VBQWFDO0FBQWIsSUFBMkJDLGVBQWpDOztBQUVBLE1BQU1DLFFBQVEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDOUIsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLE9BQVI7SUFBaUJDO0VBQWpCLElBQWdDSCxHQUFHLENBQUNJLE1BQTFDO0FBU0QsQ0FWRDs7ZUFZZTtFQUFFTDtBQUFGLEMifQ==","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/userHandler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst userHandler = io => {\n  const createNewUser = async req => {\n    const {\n      name,\n      username,\n      password\n    } = req.body; //check if account exist already\n\n    try {\n      const user = await userModel.findOne({\n        username\n      });\n\n      if (user) {\n        return {\n          success: false,\n          message: `user with ${username} already exists`\n        };\n      }\n\n      const hash = await _bcrypt.default.hash(password, saltRounds);\n      const newUser = new userModel({\n        name,\n        username,\n        password: hash\n      });\n      const userId = await newUser.save();\n      return {\n        userId,\n        name,\n        username,\n        success: true\n      };\n    } catch (error) {\n      console.log(\"error\");\n    }\n  };\n};\n\nvar _default = userHandler;\nexports.default = _default;\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n}; //export default { createNewUser, loginUser };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJ1c2VySGFuZGxlciIsImlvIiwiY3JlYXRlTmV3VXNlciIsInJlcSIsIm5hbWUiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsInVzZXIiLCJmaW5kT25lIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJoYXNoIiwiYmNyeXB0IiwibmV3VXNlciIsInVzZXJJZCIsInNhdmUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJsb2dpblVzZXIiLCJ1c2VyQWNjb3VudCIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJjb21wYXJlIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2V2ZW50SGFuZGxlcnMuanMvIiwic291cmNlcyI6WyJ1c2VySGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5jb25zdCBzYWx0Um91bmRzID0gMTA7XG5cbmNvbnN0IHsgdXNlck1vZGVsIH0gPSBtb2RlbHM7XG5jb25zdCB7IHNlY3JldF9rZXkgfSA9IHByb2Nlc3MuZW52O1xuXG5cblxuXG5jb25zdCB1c2VySGFuZGxlciA9IChpbykgPT4ge1xuICBjb25zdCBjcmVhdGVOZXdVc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZSB9KTtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogYHVzZXIgd2l0aCAke3VzZXJuYW1lfSBhbHJlYWR5IGV4aXN0c2AsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHRSb3VuZHMpO1xuICAgICAgY29uc3QgbmV3VXNlciA9IG5ldyB1c2VyTW9kZWwoe1xuICAgICAgICBuYW1lLFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2gsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IG5ld1VzZXIuc2F2ZSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBuYW1lLFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gICAgfVxuICB9O1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJIYW5kbGVyO1xuXG5cblxuY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VyQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgIH0pO1xuICAgIGlmICghdXNlckFjY291bnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkZXRhaWxzIG5vdCBmb3VuZFwiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXJBY2NvdW50LnBhc3N3b3JkKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAvL3JldHVybiBlcnJvciB0byB1c2VyQWNjb3VudCB0byBsZXQgdGhlbSBrbm93IHRoZSBwYXNzd29yZCBpcyBpbmNvcnJlY3RcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiSW5jb3JyZWN0IGNyZWRlbnRpYWxzXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICAgIGlkOiB1c2VyQWNjb3VudC5pZCxcbiAgICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgIH0sXG4gICAgICBzZWNyZXRfa2V5XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICBuYW1lOiB1c2VyQWNjb3VudC5uYW1lLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICB9XG59O1xuXG4vL2V4cG9ydCBkZWZhdWx0IHsgY3JlYXRlTmV3VXNlciwgbG9naW5Vc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUNBLE1BQU1BLFVBQVUsR0FBRyxFQUFuQjtBQUVBLE1BQU07RUFBRUM7QUFBRixJQUFnQkMsZUFBdEI7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBaUJDLE9BQU8sQ0FBQ0MsR0FBL0I7O0FBS0EsTUFBTUMsV0FBVyxHQUFJQyxFQUFELElBQVE7RUFDMUIsTUFBTUMsYUFBYSxHQUFHLE1BQU9DLEdBQVAsSUFBZTtJQUNuQyxNQUFNO01BQUVDLElBQUY7TUFBUUMsUUFBUjtNQUFrQkM7SUFBbEIsSUFBK0JILEdBQUcsQ0FBQ0ksSUFBekMsQ0FEbUMsQ0FFbkM7O0lBQ0EsSUFBSTtNQUNGLE1BQU1DLElBQUksR0FBRyxNQUFNYixTQUFTLENBQUNjLE9BQVYsQ0FBa0I7UUFBRUo7TUFBRixDQUFsQixDQUFuQjs7TUFDQSxJQUFJRyxJQUFKLEVBQVU7UUFDUixPQUFPO1VBQ0xFLE9BQU8sRUFBRSxLQURKO1VBRUxDLE9BQU8sRUFBRyxhQUFZTixRQUFTO1FBRjFCLENBQVA7TUFJRDs7TUFDRCxNQUFNTyxJQUFJLEdBQUcsTUFBTUMsZUFBQSxDQUFPRCxJQUFQLENBQVlOLFFBQVosRUFBc0JaLFVBQXRCLENBQW5CO01BQ0EsTUFBTW9CLE9BQU8sR0FBRyxJQUFJbkIsU0FBSixDQUFjO1FBQzVCUyxJQUQ0QjtRQUU1QkMsUUFGNEI7UUFHNUJDLFFBQVEsRUFBRU07TUFIa0IsQ0FBZCxDQUFoQjtNQUtBLE1BQU1HLE1BQU0sR0FBRyxNQUFNRCxPQUFPLENBQUNFLElBQVIsRUFBckI7TUFDQSxPQUFPO1FBQ0xELE1BREs7UUFFTFgsSUFGSztRQUdMQyxRQUhLO1FBSUxLLE9BQU8sRUFBRTtNQUpKLENBQVA7SUFNRCxDQXJCRCxDQXFCRSxPQUFPTyxLQUFQLEVBQWM7TUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtJQUNEO0VBQ0YsQ0EzQkQ7QUE2QkQsQ0E5QkQ7O2VBZ0NlbkIsVzs7O0FBSWYsTUFBTW9CLFNBQVMsR0FBRyxNQUFPakIsR0FBUCxJQUFlO0VBQy9CLElBQUk7SUFDRixNQUFNO01BQUVFLFFBQUY7TUFBWUM7SUFBWixJQUF5QkgsR0FBRyxDQUFDSSxJQUFuQztJQUNBLE1BQU1jLFdBQVcsR0FBRyxNQUFNMUIsU0FBUyxDQUFDYyxPQUFWLENBQWtCO01BQzFDSixRQUFRLEVBQUVBLFFBQVEsQ0FBQ2lCLFdBQVQ7SUFEZ0MsQ0FBbEIsQ0FBMUI7O0lBR0EsSUFBSSxDQUFDRCxXQUFMLEVBQWtCO01BQ2hCLE9BQU87UUFDTFYsT0FBTyxFQUFFLHdCQURKO1FBRUxELE9BQU8sRUFBRTtNQUZKLENBQVA7SUFJRDs7SUFDRCxNQUFNYSxLQUFLLEdBQUcsTUFBTVYsZUFBQSxDQUFPVyxPQUFQLENBQWVsQixRQUFmLEVBQXlCZSxXQUFXLENBQUNmLFFBQXJDLENBQXBCOztJQUNBLElBQUksQ0FBQ2lCLEtBQUwsRUFBWTtNQUNWO01BQ0EsT0FBTztRQUNMWixPQUFPLEVBQUUsdUJBREo7UUFFTEQsT0FBTyxFQUFFO01BRkosQ0FBUDtJQUlEOztJQUVELE1BQU1lLEtBQUssR0FBR0MscUJBQUEsQ0FBSUMsSUFBSixDQUNaO01BQ0V0QixRQUFRLEVBQUVnQixXQUFXLENBQUNoQixRQUR4QjtNQUVFdUIsRUFBRSxFQUFFUCxXQUFXLENBQUNPLEVBRmxCO01BR0V4QixJQUFJLEVBQUVpQixXQUFXLENBQUNqQjtJQUhwQixDQURZLEVBTVpQLFVBTlksQ0FBZDs7SUFTQSxPQUFPO01BQ0xRLFFBQVEsRUFBRWdCLFdBQVcsQ0FBQ2hCLFFBRGpCO01BRUx1QixFQUFFLEVBQUVQLFdBQVcsQ0FBQ08sRUFGWDtNQUdMSCxLQUFLLEVBQUVBLEtBSEY7TUFJTHJCLElBQUksRUFBRWlCLFdBQVcsQ0FBQ2pCLElBSmI7TUFLTE0sT0FBTyxFQUFFO0lBTEosQ0FBUDtFQU9ELENBcENELENBb0NFLE1BQU07SUFDTlEsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtFQUNEO0FBQ0YsQ0F4Q0QsQyxDQTBDQSJ9","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","userHandler","io","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/eventHandlers.js/","sources":["userHandler.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\n\n\n\nconst userHandler = (io) => {\n  const createNewUser = async (req) => {\n    const { name, username, password } = req.body;\n    //check if account exist already\n    try {\n      const user = await userModel.findOne({ username });\n      if (user) {\n        return {\n          success: false,\n          message: `user with ${username} already exists`,\n        };\n      }\n      const hash = await bcrypt.hash(password, saltRounds);\n      const newUser = new userModel({\n        name,\n        username,\n        password: hash,\n      });\n      const userId = await newUser.save();\n      return {\n        userId,\n        name,\n        username,\n        success: true,\n      };\n    } catch (error) {\n      console.log(\"error\");\n    }\n  };\n\n}\n\nexport default userHandler;\n\n\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\n//export default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAKA,MAAMC,WAAW,GAAIC,EAAD,IAAQ;EAC1B,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;IACnC,MAAM;MAAEC,IAAF;MAAQC,QAAR;MAAkBC;IAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;IACA,IAAI;MACF,MAAMC,IAAI,GAAG,MAAMb,SAAS,CAACc,OAAV,CAAkB;QAAEJ;MAAF,CAAlB,CAAnB;;MACA,IAAIG,IAAJ,EAAU;QACR,OAAO;UACLE,OAAO,EAAE,KADJ;UAELC,OAAO,EAAG,aAAYN,QAAS;QAF1B,CAAP;MAID;;MACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBZ,UAAtB,CAAnB;MACA,MAAMoB,OAAO,GAAG,IAAInB,SAAJ,CAAc;QAC5BS,IAD4B;QAE5BC,QAF4B;QAG5BC,QAAQ,EAAEM;MAHkB,CAAd,CAAhB;MAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;MACA,OAAO;QACLD,MADK;QAELX,IAFK;QAGLC,QAHK;QAILK,OAAO,EAAE;MAJJ,CAAP;IAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;IACD;EACF,CA3BD;AA6BD,CA9BD;;eAgCenB,W;;;AAIf,MAAMoB,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAM1B,SAAS,CAACc,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZP,UANY,CAAd;;IASA,OAAO;MACLQ,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD,C,CA0CA"}},"mtime":1660480788346},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _user.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhdENvbnRyb2xsZXIgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuL3VzZXJcIjtcbmltcG9ydCBvbmxpbmVVc2VyQ29udHJvbGxlciBmcm9tIFwiLi9vbmxpbmVVc2VyXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjaGF0Q29udHJvbGxlcixcbiAgdXNlckNvbnRyb2xsZXIsXG4gIG9ubGluZVVzZXJDb250cm9sbGVyXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7ZUFFZTtFQUNiQSxjQUFjLEVBQWRBLGFBRGE7RUFFYkMsY0FBYyxFQUFkQSxhQUZhO0VBR2JDLG9CQUFvQixFQUFwQkE7QUFIYSxDIn0=","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./user\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,aAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660488245645},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbImNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmNvbnN0IHsgY2hhdE1vZGVsLCB1c2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZUNoYXQgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbWVzc2FnZSwgcmVjZWlwaWVudCB9ID0gcmVxLnBhcmFtcztcblxuICBcblxuXG5cblxuXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgc2F2ZUNoYXQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTTtFQUFFQSxTQUFGO0VBQWFDO0FBQWIsSUFBMkJDLGVBQWpDOztBQUVBLE1BQU1DLFFBQVEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDOUIsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLE9BQVI7SUFBaUJDO0VBQWpCLElBQWdDSCxHQUFHLENBQUNJLE1BQTFDO0FBU0QsQ0FWRDs7ZUFZZTtFQUFFTDtBQUFGLEMifQ==","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chat = _interopRequireDefault(require(\"./chat\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar _onlineUser = _interopRequireDefault(require(\"./onlineUser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  chatController: _chat.default,\n  userController: _user.default,\n  onlineUserController: _onlineUser.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Q29udHJvbGxlciIsInVzZXJDb250cm9sbGVyIiwib25saW5lVXNlckNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL2phbWllYm9uZXMvQ09ESU5HX0RJUkVDVE9SWSBGSUxFUy9UdXRvcmlhbHMvQ2hhdF9hcHBsaWNhdGlvbi9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhdENvbnRyb2xsZXIgZnJvbSBcIi4vY2hhdFwiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuL3VzZXJcIjtcbmltcG9ydCBvbmxpbmVVc2VyQ29udHJvbGxlciBmcm9tIFwiLi9vbmxpbmVVc2VyXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjaGF0Q29udHJvbGxlcixcbiAgdXNlckNvbnRyb2xsZXIsXG4gIG9ubGluZVVzZXJDb250cm9sbGVyXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7ZUFFZTtFQUNiQSxjQUFjLEVBQWRBLGFBRGE7RUFFYkMsY0FBYyxFQUFkQSxhQUZhO0VBR2JDLG9CQUFvQixFQUFwQkE7QUFIYSxDIn0=","map":{"version":3,"names":["chatController","userController","onlineUserController"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["index.js"],"sourcesContent":["import chatController from \"./chat\";\nimport userController from \"./user\";\nimport onlineUserController from \"./onlineUser\"\n\nexport default {\n  chatController,\n  userController,\n  onlineUserController\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe;EACbA,cAAc,EAAdA,aADa;EAEbC,cAAc,EAAdA,aAFa;EAGbC,oBAAoB,EAApBA;AAHa,C"}},"mtime":1660488245645},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  chatModel,\n  userModel\n} = _models.default;\n\nconst saveChat = async req => {\n  const {\n    user,\n    message,\n    receipient\n  } = req.params;\n};\n\nvar _default = {\n  saveChat\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0TW9kZWwiLCJ1c2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlQ2hhdCIsInJlcSIsInVzZXIiLCJtZXNzYWdlIiwicmVjZWlwaWVudCIsInBhcmFtcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbImNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmNvbnN0IHsgY2hhdE1vZGVsLCB1c2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZUNoYXQgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbWVzc2FnZSwgcmVjZWlwaWVudCB9ID0gcmVxLnBhcmFtcztcblxuICBcblxuXG5cblxuXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgc2F2ZUNoYXQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTTtFQUFFQSxTQUFGO0VBQWFDO0FBQWIsSUFBMkJDLGVBQWpDOztBQUVBLE1BQU1DLFFBQVEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDOUIsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLE9BQVI7SUFBaUJDO0VBQWpCLElBQWdDSCxHQUFHLENBQUNJLE1BQTFDO0FBU0QsQ0FWRDs7ZUFZZTtFQUFFTDtBQUFGLEMifQ==","map":{"version":3,"names":["chatModel","userModel","models","saveChat","req","user","message","receipient","params"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["chat.js"],"sourcesContent":["import models from \"../models\";\n\nconst { chatModel, userModel } = models;\n\nconst saveChat = async (req) => {\n  const { user, message, receipient } = req.params;\n\n  \n\n\n\n\n\n\n};\n\nexport default { saveChat };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA,SAAF;EAAaC;AAAb,IAA2BC,eAAjC;;AAEA,MAAMC,QAAQ,GAAG,MAAOC,GAAP,IAAe;EAC9B,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,IAAgCH,GAAG,CAACI,MAA1C;AASD,CAVD;;eAYe;EAAEL;AAAF,C"}},"mtime":1660329923463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async req => {\n  try {\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuXG5jb25zdCB7IHVzZXJNb2RlbCB9ID0gbW9kZWxzO1xuY29uc3QgeyBzZWNyZXRfa2V5IH0gPSBwcm9jZXNzLmVudjtcblxuY29uc3QgY3JlYXRlTmV3VXNlciA9IGFzeW5jIChyZXEpID0+IHtcbiAgY29uc3QgeyBuYW1lLCB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogYHVzZXIgd2l0aCAke3VzZXJuYW1lfSBhbHJlYWR5IGV4aXN0c2AsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHRSb3VuZHMpO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgdXNlck1vZGVsKHtcbiAgICAgIG5hbWUsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIHBhc3N3b3JkOiBoYXNoLFxuICAgIH0pO1xuICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IG5ld1VzZXIuc2F2ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQsXG4gICAgICBuYW1lLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VyQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgIH0pO1xuICAgIGlmICghdXNlckFjY291bnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkZXRhaWxzIG5vdCBmb3VuZFwiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXJBY2NvdW50LnBhc3N3b3JkKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAvL3JldHVybiBlcnJvciB0byB1c2VyQWNjb3VudCB0byBsZXQgdGhlbSBrbm93IHRoZSBwYXNzd29yZCBpcyBpbmNvcnJlY3RcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiSW5jb3JyZWN0IGNyZWRlbnRpYWxzXCIsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICAgIGlkOiB1c2VyQWNjb3VudC5pZCxcbiAgICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgIH0sXG4gICAgICBzZWNyZXRfa2V5XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICBuYW1lOiB1c2VyQWNjb3VudC5uYW1lLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGNyZWF0ZU5ld1VzZXIsIGxvZ2luVXNlciB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxVQUFVLEdBQUcsRUFBbkI7QUFFQSxNQUFNO0VBQUVDO0FBQUYsSUFBZ0JDLGVBQXRCO0FBQ0EsTUFBTTtFQUFFQztBQUFGLElBQWlCQyxPQUFPLENBQUNDLEdBQS9COztBQUVBLE1BQU1DLGFBQWEsR0FBRyxNQUFPQyxHQUFQLElBQWU7RUFDbkMsTUFBTTtJQUFFQyxJQUFGO0lBQVFDLFFBQVI7SUFBa0JDO0VBQWxCLElBQStCSCxHQUFHLENBQUNJLElBQXpDLENBRG1DLENBRW5DOztFQUNBLElBQUk7SUFDRixNQUFNQyxJQUFJLEdBQUcsTUFBTVgsU0FBUyxDQUFDWSxPQUFWLENBQWtCO01BQUVKO0lBQUYsQ0FBbEIsQ0FBbkI7O0lBQ0EsSUFBSUcsSUFBSixFQUFVO01BQ1IsT0FBTztRQUNMRSxPQUFPLEVBQUUsS0FESjtRQUVMQyxPQUFPLEVBQUcsYUFBWU4sUUFBUztNQUYxQixDQUFQO0lBSUQ7O0lBQ0QsTUFBTU8sSUFBSSxHQUFHLE1BQU1DLGVBQUEsQ0FBT0QsSUFBUCxDQUFZTixRQUFaLEVBQXNCVixVQUF0QixDQUFuQjtJQUNBLE1BQU1rQixPQUFPLEdBQUcsSUFBSWpCLFNBQUosQ0FBYztNQUM1Qk8sSUFENEI7TUFFNUJDLFFBRjRCO01BRzVCQyxRQUFRLEVBQUVNO0lBSGtCLENBQWQsQ0FBaEI7SUFLQSxNQUFNRyxNQUFNLEdBQUcsTUFBTUQsT0FBTyxDQUFDRSxJQUFSLEVBQXJCO0lBQ0EsT0FBTztNQUNMRCxNQURLO01BRUxYLElBRks7TUFHTEMsUUFISztNQUlMSyxPQUFPLEVBQUU7SUFKSixDQUFQO0VBTUQsQ0FyQkQsQ0FxQkUsT0FBT08sS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBM0JEOztBQTZCQSxNQUFNQyxTQUFTLEdBQUcsTUFBT2pCLEdBQVAsSUFBZTtFQUMvQixJQUFJO0lBQ0YsTUFBTTtNQUFFRSxRQUFGO01BQVlDO0lBQVosSUFBeUJILEdBQUcsQ0FBQ0ksSUFBbkM7SUFDQSxNQUFNYyxXQUFXLEdBQUcsTUFBTXhCLFNBQVMsQ0FBQ1ksT0FBVixDQUFrQjtNQUMxQ0osUUFBUSxFQUFFQSxRQUFRLENBQUNpQixXQUFUO0lBRGdDLENBQWxCLENBQTFCOztJQUdBLElBQUksQ0FBQ0QsV0FBTCxFQUFrQjtNQUNoQixPQUFPO1FBQ0xWLE9BQU8sRUFBRSx3QkFESjtRQUVMRCxPQUFPLEVBQUU7TUFGSixDQUFQO0lBSUQ7O0lBQ0QsTUFBTWEsS0FBSyxHQUFHLE1BQU1WLGVBQUEsQ0FBT1csT0FBUCxDQUFlbEIsUUFBZixFQUF5QmUsV0FBVyxDQUFDZixRQUFyQyxDQUFwQjs7SUFDQSxJQUFJLENBQUNpQixLQUFMLEVBQVk7TUFDVjtNQUNBLE9BQU87UUFDTFosT0FBTyxFQUFFLHVCQURKO1FBRUxELE9BQU8sRUFBRTtNQUZKLENBQVA7SUFJRDs7SUFFRCxNQUFNZSxLQUFLLEdBQUdDLHFCQUFBLENBQUlDLElBQUosQ0FDWjtNQUNFdEIsUUFBUSxFQUFFZ0IsV0FBVyxDQUFDaEIsUUFEeEI7TUFFRXVCLEVBQUUsRUFBRVAsV0FBVyxDQUFDTyxFQUZsQjtNQUdFeEIsSUFBSSxFQUFFaUIsV0FBVyxDQUFDakI7SUFIcEIsQ0FEWSxFQU1aTCxVQU5ZLENBQWQ7O0lBU0EsT0FBTztNQUNMTSxRQUFRLEVBQUVnQixXQUFXLENBQUNoQixRQURqQjtNQUVMdUIsRUFBRSxFQUFFUCxXQUFXLENBQUNPLEVBRlg7TUFHTEgsS0FBSyxFQUFFQSxLQUhGO01BSUxyQixJQUFJLEVBQUVpQixXQUFXLENBQUNqQixJQUpiO01BS0xNLE9BQU8sRUFBRTtJQUxKLENBQVA7RUFPRCxDQXBDRCxDQW9DRSxNQUFNO0lBQ05RLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBeENEOztlQTBDZTtFQUFFakIsYUFBRjtFQUFpQmtCO0FBQWpCLEMifQ==","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["user.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\nconst createNewUser = async (req) => {\n  const { name, username, password } = req.body;\n  //check if account exist already\n  try {\n    const user = await userModel.findOne({ username });\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`,\n      };\n    }\n    const hash = await bcrypt.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash,\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async (req) => {\n  try {\n    const { username, password } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase(),\n    });\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false,\n      };\n    }\n    const match = await bcrypt.compare(password, userAccount.password);\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false,\n      };\n    }\n\n    const token = jwt.sign(\n      {\n        username: userAccount.username,\n        id: userAccount.id,\n        name: userAccount.name,\n      },\n      secret_key\n    );\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true,\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAEA,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EACnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CADmC,CAEnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MACR,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CArBD,CAqBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA3BD;;AA6BA,MAAMC,SAAS,GAAG,MAAOjB,GAAP,IAAe;EAC/B,IAAI;IACF,MAAM;MAAEE,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMc,WAAW,GAAG,MAAMxB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACiB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLV,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMa,KAAK,GAAG,MAAMV,eAAA,CAAOW,OAAP,CAAelB,QAAf,EAAyBe,WAAW,CAACf,QAArC,CAApB;;IACA,IAAI,CAACiB,KAAL,EAAY;MACV;MACA,OAAO;QACLZ,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMe,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEtB,QAAQ,EAAEgB,WAAW,CAAChB,QADxB;MAEEuB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGExB,IAAI,EAAEiB,WAAW,CAACjB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEgB,WAAW,CAAChB,QADjB;MAELuB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILrB,IAAI,EAAEiB,WAAW,CAACjB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CApCD,CAoCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAxCD;;eA0Ce;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660571522794},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  onlineUserModel\n} = _models.default;\n\nconst saveOnlineUser = async ({\n  username,\n  name,\n  socketId\n}) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({\n      username\n    });\n\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId\n      });\n    }\n\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({\n  username\n}) => {\n  const [, onlineUsers] = await Promise.all([onlineUserModel.remove({\n    username\n  }), onlineUsers = await onlineUserModel.find()]); //return the rest users online\n\n  return onlineUsers;\n};\n\nvar _default = {\n  saveOnlineUser,\n  removeOnlineUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvbmxpbmVVc2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlT25saW5lVXNlciIsInVzZXJuYW1lIiwibmFtZSIsInNvY2tldElkIiwidXNlck9ubGluZSIsImZpbmRPbmUiLCJuZXdVc2VyT25saW5lIiwiZGF0YSIsInNhdmUiLCJpZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlbW92ZU9ubGluZVVzZXIiLCJvbmxpbmVVc2VycyIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsib25saW5lVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcblxuY29uc3QgeyBvbmxpbmVVc2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZU9ubGluZVVzZXIgPSBhc3luYyAoeyB1c2VybmFtZSwgbmFtZSwgc29ja2V0SWQgfSkgPT4ge1xuICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXJPbmxpbmUgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xuICAgIGlmICghdXNlck9ubGluZSkge1xuICAgICAgY29uc3QgbmV3VXNlck9ubGluZSA9IG5ldyBvbmxpbmVVc2VyTW9kZWwoe1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc29ja2V0SWQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ld1VzZXJPbmxpbmUuc2F2ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIHNvY2tldElkLFxuICAgICAgbmFtZSxcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuY29uc3QgcmVtb3ZlT25saW5lVXNlciA9IGFzeW5jICh7IHVzZXJuYW1lIH0pID0+IHtcbiAgY29uc3QgWywgb25saW5lVXNlcnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIG9ubGluZVVzZXJNb2RlbC5yZW1vdmUoeyB1c2VybmFtZSB9KSxcbiAgICAob25saW5lVXNlcnMgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZCgpKSxcbiAgXSk7XG4gIC8vcmV0dXJuIHRoZSByZXN0IHVzZXJzIG9ubGluZVxuICByZXR1cm4gb25saW5lVXNlcnM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNhdmVPbmxpbmVVc2VyLCByZW1vdmVPbmxpbmVVc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFzQkMsZUFBNUI7O0FBRUEsTUFBTUMsY0FBYyxHQUFHLE9BQU87RUFBRUMsUUFBRjtFQUFZQyxJQUFaO0VBQWtCQztBQUFsQixDQUFQLEtBQXdDO0VBQzdEO0VBQ0EsSUFBSTtJQUNGLE1BQU1DLFVBQVUsR0FBRyxNQUFNTixlQUFlLENBQUNPLE9BQWhCLENBQXdCO01BQUVKO0lBQUYsQ0FBeEIsQ0FBekI7O0lBQ0EsSUFBSSxDQUFDRyxVQUFMLEVBQWlCO01BQ2YsTUFBTUUsYUFBYSxHQUFHLElBQUlSLGVBQUosQ0FBb0I7UUFDeENHLFFBRHdDO1FBRXhDQyxJQUZ3QztRQUd4Q0M7TUFId0MsQ0FBcEIsQ0FBdEI7SUFLRDs7SUFDRCxNQUFNSSxJQUFJLEdBQUcsTUFBTUQsYUFBYSxDQUFDRSxJQUFkLEVBQW5CO0lBQ0EsT0FBTztNQUNMUCxRQURLO01BRUxFLFFBRks7TUFHTEQsSUFISztNQUlMTyxFQUFFLEVBQUVGLElBQUksQ0FBQ0U7SUFKSixDQUFQO0VBTUQsQ0FoQkQsQ0FnQkUsT0FBT0MsS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBckJEOztBQXVCQSxNQUFNQyxnQkFBZ0IsR0FBRyxPQUFPO0VBQUVaO0FBQUYsQ0FBUCxLQUF3QjtFQUMvQyxNQUFNLEdBQUdhLFdBQUgsSUFBa0IsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDeENsQixlQUFlLENBQUNtQixNQUFoQixDQUF1QjtJQUFFaEI7RUFBRixDQUF2QixDQUR3QyxFQUV2Q2EsV0FBVyxHQUFHLE1BQU1oQixlQUFlLENBQUNvQixJQUFoQixFQUZtQixDQUFaLENBQTlCLENBRCtDLENBSy9DOztFQUNBLE9BQU9KLFdBQVA7QUFDRCxDQVBEOztlQVNlO0VBQUVkLGNBQUY7RUFBa0JhO0FBQWxCLEMifQ==","map":{"version":3,"names":["onlineUserModel","models","saveOnlineUser","username","name","socketId","userOnline","findOne","newUserOnline","data","save","id","error","console","log","removeOnlineUser","onlineUsers","Promise","all","remove","find"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["onlineUser.js"],"sourcesContent":["import models from \"../models\";\n\nconst { onlineUserModel } = models;\n\nconst saveOnlineUser = async ({ username, name, socketId }) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({ username });\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId,\n      });\n    }\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({ username }) => {\n  const [, onlineUsers] = await Promise.all([\n    onlineUserModel.remove({ username }),\n    (onlineUsers = await onlineUserModel.find()),\n  ]);\n  //return the rest users online\n  return onlineUsers;\n};\n\nexport default { saveOnlineUser, removeOnlineUser };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA;AAAF,IAAsBC,eAA5B;;AAEA,MAAMC,cAAc,GAAG,OAAO;EAAEC,QAAF;EAAYC,IAAZ;EAAkBC;AAAlB,CAAP,KAAwC;EAC7D;EACA,IAAI;IACF,MAAMC,UAAU,GAAG,MAAMN,eAAe,CAACO,OAAhB,CAAwB;MAAEJ;IAAF,CAAxB,CAAzB;;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,MAAME,aAAa,GAAG,IAAIR,eAAJ,CAAoB;QACxCG,QADwC;QAExCC,IAFwC;QAGxCC;MAHwC,CAApB,CAAtB;IAKD;;IACD,MAAMI,IAAI,GAAG,MAAMD,aAAa,CAACE,IAAd,EAAnB;IACA,OAAO;MACLP,QADK;MAELE,QAFK;MAGLD,IAHK;MAILO,EAAE,EAAEF,IAAI,CAACE;IAJJ,CAAP;EAMD,CAhBD,CAgBE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CArBD;;AAuBA,MAAMC,gBAAgB,GAAG,OAAO;EAAEZ;AAAF,CAAP,KAAwB;EAC/C,MAAM,GAAGa,WAAH,IAAkB,MAAMC,OAAO,CAACC,GAAR,CAAY,CACxClB,eAAe,CAACmB,MAAhB,CAAuB;IAAEhB;EAAF,CAAvB,CADwC,EAEvCa,WAAW,GAAG,MAAMhB,eAAe,CAACoB,IAAhB,EAFmB,CAAZ,CAA9B,CAD+C,CAK/C;;EACA,OAAOJ,WAAP;AACD,CAPD;;eASe;EAAEd,cAAF;EAAkBa;AAAlB,C"}},"mtime":1660477091312},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst saltRounds = 10;\nconst {\n  userModel\n} = _models.default;\nconst {\n  secret_key\n} = process.env;\n\nconst createNewUser = async req => {\n  const {\n    name,\n    username,\n    password\n  } = req.body; //check if account exist already\n\n  try {\n    const user = await userModel.findOne({\n      username\n    });\n\n    if (user) {\n      return {\n        success: false,\n        message: `user with ${username} already exists`\n      };\n    }\n\n    const hash = await _bcrypt.default.hash(password, saltRounds);\n    const newUser = new userModel({\n      name,\n      username,\n      password: hash\n    });\n    const userId = await newUser.save();\n    return {\n      userId,\n      name,\n      username,\n      success: true\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst loginUser = async () => {\n  try {\n    const socket = void 0;\n    const {\n      username,\n      password\n    } = req.body;\n    const userAccount = await userModel.findOne({\n      username: username.toLowerCase()\n    });\n\n    if (!userAccount) {\n      return {\n        message: \"User details not found\",\n        success: false\n      };\n    }\n\n    const match = await _bcrypt.default.compare(password, userAccount.password);\n\n    if (!match) {\n      //return error to userAccount to let them know the password is incorrect\n      return {\n        message: \"Incorrect credentials\",\n        success: false\n      };\n    }\n\n    const token = _jsonwebtoken.default.sign({\n      username: userAccount.username,\n      id: userAccount.id,\n      name: userAccount.name\n    }, secret_key);\n\n    return {\n      username: userAccount.username,\n      id: userAccount.id,\n      token: token,\n      name: userAccount.name,\n      success: true\n    };\n  } catch {\n    console.log(\"error\");\n  }\n};\n\nvar _default = {\n  createNewUser,\n  loginUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYWx0Um91bmRzIiwidXNlck1vZGVsIiwibW9kZWxzIiwic2VjcmV0X2tleSIsInByb2Nlc3MiLCJlbnYiLCJjcmVhdGVOZXdVc2VyIiwicmVxIiwibmFtZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImZpbmRPbmUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImhhc2giLCJiY3J5cHQiLCJuZXdVc2VyIiwidXNlcklkIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImxvZ2luVXNlciIsInNvY2tldCIsInVzZXJBY2NvdW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNvbXBhcmUiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvamFtaWVib25lcy9DT0RJTkdfRElSRUNUT1JZIEZJTEVTL1R1dG9yaWFscy9DaGF0X2FwcGxpY2F0aW9uL3NlcnZlci9zcmMvY29udHJvbGxlci8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuXG5jb25zdCB7IHVzZXJNb2RlbCB9ID0gbW9kZWxzO1xuY29uc3QgeyBzZWNyZXRfa2V5IH0gPSBwcm9jZXNzLmVudjtcblxuICBjb25zdCBjcmVhdGVOZXdVc2VyID0gYXN5bmMgKHJlcSkgPT4ge1xuIFxuICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZSB9KTtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGB1c2VyIHdpdGggJHt1c2VybmFtZX0gYWxyZWFkeSBleGlzdHNgLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcbiAgICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgdXNlck1vZGVsKHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoLFxuICAgICAgfSk7XG4gICAgICBjb25zdCB1c2VySWQgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGxvZ2luVXNlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcztcbiAgICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgIGNvbnN0IHVzZXJBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCF1c2VyQWNjb3VudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBkZXRhaWxzIG5vdCBmb3VuZFwiLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlckFjY291bnQucGFzc3dvcmQpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAvL3JldHVybiBlcnJvciB0byB1c2VyQWNjb3VudCB0byBsZXQgdGhlbSBrbm93IHRoZSBwYXNzd29yZCBpcyBpbmNvcnJlY3RcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBjcmVkZW50aWFsc1wiLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlckFjY291bnQudXNlcm5hbWUsXG4gICAgICAgICAgaWQ6IHVzZXJBY2NvdW50LmlkLFxuICAgICAgICAgIG5hbWU6IHVzZXJBY2NvdW50Lm5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIHNlY3JldF9rZXlcbiAgICAgICk7XG4gIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJBY2NvdW50LnVzZXJuYW1lLFxuICAgICAgICBpZDogdXNlckFjY291bnQuaWQsXG4gICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgbmFtZTogdXNlckFjY291bnQubmFtZSxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xuICAgIH1cbiAgfVxuXG5cblxuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlTmV3VXNlciwgbG9naW5Vc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUNBLE1BQU1BLFVBQVUsR0FBRyxFQUFuQjtBQUVBLE1BQU07RUFBRUM7QUFBRixJQUFnQkMsZUFBdEI7QUFDQSxNQUFNO0VBQUVDO0FBQUYsSUFBaUJDLE9BQU8sQ0FBQ0MsR0FBL0I7O0FBRUUsTUFBTUMsYUFBYSxHQUFHLE1BQU9DLEdBQVAsSUFBZTtFQUVuQyxNQUFNO0lBQUVDLElBQUY7SUFBUUMsUUFBUjtJQUFrQkM7RUFBbEIsSUFBK0JILEdBQUcsQ0FBQ0ksSUFBekMsQ0FGbUMsQ0FHbkM7O0VBQ0EsSUFBSTtJQUNGLE1BQU1DLElBQUksR0FBRyxNQUFNWCxTQUFTLENBQUNZLE9BQVYsQ0FBa0I7TUFBRUo7SUFBRixDQUFsQixDQUFuQjs7SUFDQSxJQUFJRyxJQUFKLEVBQVU7TUFFUixPQUFPO1FBQ0xFLE9BQU8sRUFBRSxLQURKO1FBRUxDLE9BQU8sRUFBRyxhQUFZTixRQUFTO01BRjFCLENBQVA7SUFJRDs7SUFDRCxNQUFNTyxJQUFJLEdBQUcsTUFBTUMsZUFBQSxDQUFPRCxJQUFQLENBQVlOLFFBQVosRUFBc0JWLFVBQXRCLENBQW5CO0lBQ0EsTUFBTWtCLE9BQU8sR0FBRyxJQUFJakIsU0FBSixDQUFjO01BQzVCTyxJQUQ0QjtNQUU1QkMsUUFGNEI7TUFHNUJDLFFBQVEsRUFBRU07SUFIa0IsQ0FBZCxDQUFoQjtJQUtBLE1BQU1HLE1BQU0sR0FBRyxNQUFNRCxPQUFPLENBQUNFLElBQVIsRUFBckI7SUFDQSxPQUFPO01BQ0xELE1BREs7TUFFTFgsSUFGSztNQUdMQyxRQUhLO01BSUxLLE9BQU8sRUFBRTtJQUpKLENBQVA7RUFNRCxDQXRCRCxDQXNCRSxPQUFPTyxLQUFQLEVBQWM7SUFDZEMsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtFQUNEO0FBQ0YsQ0E3QkQ7O0FBK0JBLE1BQU1DLFNBQVMsR0FBRyxZQUFZO0VBQzVCLElBQUk7SUFDRixNQUFNQyxNQUFNLFNBQVo7SUFDQSxNQUFNO01BQUVoQixRQUFGO01BQVlDO0lBQVosSUFBeUJILEdBQUcsQ0FBQ0ksSUFBbkM7SUFDQSxNQUFNZSxXQUFXLEdBQUcsTUFBTXpCLFNBQVMsQ0FBQ1ksT0FBVixDQUFrQjtNQUMxQ0osUUFBUSxFQUFFQSxRQUFRLENBQUNrQixXQUFUO0lBRGdDLENBQWxCLENBQTFCOztJQUdBLElBQUksQ0FBQ0QsV0FBTCxFQUFrQjtNQUNoQixPQUFPO1FBQ0xYLE9BQU8sRUFBRSx3QkFESjtRQUVMRCxPQUFPLEVBQUU7TUFGSixDQUFQO0lBSUQ7O0lBQ0QsTUFBTWMsS0FBSyxHQUFHLE1BQU1YLGVBQUEsQ0FBT1ksT0FBUCxDQUFlbkIsUUFBZixFQUF5QmdCLFdBQVcsQ0FBQ2hCLFFBQXJDLENBQXBCOztJQUNBLElBQUksQ0FBQ2tCLEtBQUwsRUFBWTtNQUNWO01BQ0EsT0FBTztRQUNMYixPQUFPLEVBQUUsdUJBREo7UUFFTEQsT0FBTyxFQUFFO01BRkosQ0FBUDtJQUlEOztJQUVELE1BQU1nQixLQUFLLEdBQUdDLHFCQUFBLENBQUlDLElBQUosQ0FDWjtNQUNFdkIsUUFBUSxFQUFFaUIsV0FBVyxDQUFDakIsUUFEeEI7TUFFRXdCLEVBQUUsRUFBRVAsV0FBVyxDQUFDTyxFQUZsQjtNQUdFekIsSUFBSSxFQUFFa0IsV0FBVyxDQUFDbEI7SUFIcEIsQ0FEWSxFQU1aTCxVQU5ZLENBQWQ7O0lBU0EsT0FBTztNQUNMTSxRQUFRLEVBQUVpQixXQUFXLENBQUNqQixRQURqQjtNQUVMd0IsRUFBRSxFQUFFUCxXQUFXLENBQUNPLEVBRlg7TUFHTEgsS0FBSyxFQUFFQSxLQUhGO01BSUx0QixJQUFJLEVBQUVrQixXQUFXLENBQUNsQixJQUpiO01BS0xNLE9BQU8sRUFBRTtJQUxKLENBQVA7RUFPRCxDQXJDRCxDQXFDRSxNQUFNO0lBQ05RLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBekNEOztlQWtEYTtFQUFFakIsYUFBRjtFQUFpQmtCO0FBQWpCLEMifQ==","map":{"version":3,"names":["saltRounds","userModel","models","secret_key","process","env","createNewUser","req","name","username","password","body","user","findOne","success","message","hash","bcrypt","newUser","userId","save","error","console","log","loginUser","socket","userAccount","toLowerCase","match","compare","token","jwt","sign","id"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["user.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport models from \"../models\";\nconst saltRounds = 10;\n\nconst { userModel } = models;\nconst { secret_key } = process.env;\n\n  const createNewUser = async (req) => {\n \n    const { name, username, password } = req.body;\n    //check if account exist already\n    try {\n      const user = await userModel.findOne({ username });\n      if (user) {\n        \n        return {\n          success: false,\n          message: `user with ${username} already exists`,\n        };\n      }\n      const hash = await bcrypt.hash(password, saltRounds);\n      const newUser = new userModel({\n        name,\n        username,\n        password: hash,\n      });\n      const userId = await newUser.save();\n      return {\n        userId,\n        name,\n        username,\n        success: true,\n      };\n    } catch (error) {\n      console.log(\"error\");\n    }\n  }\n\n  const loginUser = async () => {\n    try {\n      const socket = this;\n      const { username, password } = req.body;\n      const userAccount = await userModel.findOne({\n        username: username.toLowerCase(),\n      });\n      if (!userAccount) {\n        return {\n          message: \"User details not found\",\n          success: false,\n        };\n      }\n      const match = await bcrypt.compare(password, userAccount.password);\n      if (!match) {\n        //return error to userAccount to let them know the password is incorrect\n        return {\n          message: \"Incorrect credentials\",\n          success: false,\n        };\n      }\n  \n      const token = jwt.sign(\n        {\n          username: userAccount.username,\n          id: userAccount.id,\n          name: userAccount.name,\n        },\n        secret_key\n      );\n  \n      return {\n        username: userAccount.username,\n        id: userAccount.id,\n        token: token,\n        name: userAccount.name,\n        success: true,\n      };\n    } catch {\n      console.log(\"error\");\n    }\n  }\n\n\n\n\n\n\n\n\nexport default { createNewUser, loginUser };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAG,EAAnB;AAEA,MAAM;EAAEC;AAAF,IAAgBC,eAAtB;AACA,MAAM;EAAEC;AAAF,IAAiBC,OAAO,CAACC,GAA/B;;AAEE,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;EAEnC,MAAM;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,IAA+BH,GAAG,CAACI,IAAzC,CAFmC,CAGnC;;EACA,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMX,SAAS,CAACY,OAAV,CAAkB;MAAEJ;IAAF,CAAlB,CAAnB;;IACA,IAAIG,IAAJ,EAAU;MAER,OAAO;QACLE,OAAO,EAAE,KADJ;QAELC,OAAO,EAAG,aAAYN,QAAS;MAF1B,CAAP;IAID;;IACD,MAAMO,IAAI,GAAG,MAAMC,eAAA,CAAOD,IAAP,CAAYN,QAAZ,EAAsBV,UAAtB,CAAnB;IACA,MAAMkB,OAAO,GAAG,IAAIjB,SAAJ,CAAc;MAC5BO,IAD4B;MAE5BC,QAF4B;MAG5BC,QAAQ,EAAEM;IAHkB,CAAd,CAAhB;IAKA,MAAMG,MAAM,GAAG,MAAMD,OAAO,CAACE,IAAR,EAArB;IACA,OAAO;MACLD,MADK;MAELX,IAFK;MAGLC,QAHK;MAILK,OAAO,EAAE;IAJJ,CAAP;EAMD,CAtBD,CAsBE,OAAOO,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CA7BD;;AA+BA,MAAMC,SAAS,GAAG,YAAY;EAC5B,IAAI;IACF,MAAMC,MAAM,SAAZ;IACA,MAAM;MAAEhB,QAAF;MAAYC;IAAZ,IAAyBH,GAAG,CAACI,IAAnC;IACA,MAAMe,WAAW,GAAG,MAAMzB,SAAS,CAACY,OAAV,CAAkB;MAC1CJ,QAAQ,EAAEA,QAAQ,CAACkB,WAAT;IADgC,CAAlB,CAA1B;;IAGA,IAAI,CAACD,WAAL,EAAkB;MAChB,OAAO;QACLX,OAAO,EAAE,wBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IACD,MAAMc,KAAK,GAAG,MAAMX,eAAA,CAAOY,OAAP,CAAenB,QAAf,EAAyBgB,WAAW,CAAChB,QAArC,CAApB;;IACA,IAAI,CAACkB,KAAL,EAAY;MACV;MACA,OAAO;QACLb,OAAO,EAAE,uBADJ;QAELD,OAAO,EAAE;MAFJ,CAAP;IAID;;IAED,MAAMgB,KAAK,GAAGC,qBAAA,CAAIC,IAAJ,CACZ;MACEvB,QAAQ,EAAEiB,WAAW,CAACjB,QADxB;MAEEwB,EAAE,EAAEP,WAAW,CAACO,EAFlB;MAGEzB,IAAI,EAAEkB,WAAW,CAAClB;IAHpB,CADY,EAMZL,UANY,CAAd;;IASA,OAAO;MACLM,QAAQ,EAAEiB,WAAW,CAACjB,QADjB;MAELwB,EAAE,EAAEP,WAAW,CAACO,EAFX;MAGLH,KAAK,EAAEA,KAHF;MAILtB,IAAI,EAAEkB,WAAW,CAAClB,IAJb;MAKLM,OAAO,EAAE;IALJ,CAAP;EAOD,CArCD,CAqCE,MAAM;IACNQ,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CAzCD;;eAkDa;EAAEjB,aAAF;EAAiBkB;AAAjB,C"}},"mtime":1660508885015},"{\"assumptions\":{},\"sourceRoot\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"filename\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/onlineUser.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  onlineUserModel\n} = _models.default;\n\nconst saveOnlineUser = async ({\n  username,\n  name,\n  socketId\n}) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({\n      username\n    });\n\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId\n      });\n    }\n\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({\n  username\n}) => {\n  const [, onlineUsers] = await Promise.all([onlineUserModel.remove({\n    username\n  }), onlineUsers = await onlineUserModel.find()]); //return the rest users online\n\n  return onlineUsers;\n};\n\nvar _default = {\n  saveOnlineUser,\n  removeOnlineUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvbmxpbmVVc2VyTW9kZWwiLCJtb2RlbHMiLCJzYXZlT25saW5lVXNlciIsInVzZXJuYW1lIiwibmFtZSIsInNvY2tldElkIiwidXNlck9ubGluZSIsImZpbmRPbmUiLCJuZXdVc2VyT25saW5lIiwiZGF0YSIsInNhdmUiLCJpZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlbW92ZU9ubGluZVVzZXIiLCJvbmxpbmVVc2VycyIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiLCJmaW5kIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qYW1pZWJvbmVzL0NPRElOR19ESVJFQ1RPUlkgRklMRVMvVHV0b3JpYWxzL0NoYXRfYXBwbGljYXRpb24vc2VydmVyL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsib25saW5lVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcblxuY29uc3QgeyBvbmxpbmVVc2VyTW9kZWwgfSA9IG1vZGVscztcblxuY29uc3Qgc2F2ZU9ubGluZVVzZXIgPSBhc3luYyAoeyB1c2VybmFtZSwgbmFtZSwgc29ja2V0SWQgfSkgPT4ge1xuICAvL2NoZWNrIGlmIGFjY291bnQgZXhpc3QgYWxyZWFkeVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXJPbmxpbmUgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xuICAgIGlmICghdXNlck9ubGluZSkge1xuICAgICAgY29uc3QgbmV3VXNlck9ubGluZSA9IG5ldyBvbmxpbmVVc2VyTW9kZWwoe1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc29ja2V0SWQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ld1VzZXJPbmxpbmUuc2F2ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIHNvY2tldElkLFxuICAgICAgbmFtZSxcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcbiAgfVxufTtcblxuY29uc3QgcmVtb3ZlT25saW5lVXNlciA9IGFzeW5jICh7IHVzZXJuYW1lIH0pID0+IHtcbiAgY29uc3QgWywgb25saW5lVXNlcnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIG9ubGluZVVzZXJNb2RlbC5yZW1vdmUoeyB1c2VybmFtZSB9KSxcbiAgICAob25saW5lVXNlcnMgPSBhd2FpdCBvbmxpbmVVc2VyTW9kZWwuZmluZCgpKSxcbiAgXSk7XG4gIC8vcmV0dXJuIHRoZSByZXN0IHVzZXJzIG9ubGluZVxuICByZXR1cm4gb25saW5lVXNlcnM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNhdmVPbmxpbmVVc2VyLCByZW1vdmVPbmxpbmVVc2VyIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU07RUFBRUE7QUFBRixJQUFzQkMsZUFBNUI7O0FBRUEsTUFBTUMsY0FBYyxHQUFHLE9BQU87RUFBRUMsUUFBRjtFQUFZQyxJQUFaO0VBQWtCQztBQUFsQixDQUFQLEtBQXdDO0VBQzdEO0VBQ0EsSUFBSTtJQUNGLE1BQU1DLFVBQVUsR0FBRyxNQUFNTixlQUFlLENBQUNPLE9BQWhCLENBQXdCO01BQUVKO0lBQUYsQ0FBeEIsQ0FBekI7O0lBQ0EsSUFBSSxDQUFDRyxVQUFMLEVBQWlCO01BQ2YsTUFBTUUsYUFBYSxHQUFHLElBQUlSLGVBQUosQ0FBb0I7UUFDeENHLFFBRHdDO1FBRXhDQyxJQUZ3QztRQUd4Q0M7TUFId0MsQ0FBcEIsQ0FBdEI7SUFLRDs7SUFDRCxNQUFNSSxJQUFJLEdBQUcsTUFBTUQsYUFBYSxDQUFDRSxJQUFkLEVBQW5CO0lBQ0EsT0FBTztNQUNMUCxRQURLO01BRUxFLFFBRks7TUFHTEQsSUFISztNQUlMTyxFQUFFLEVBQUVGLElBQUksQ0FBQ0U7SUFKSixDQUFQO0VBTUQsQ0FoQkQsQ0FnQkUsT0FBT0MsS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7RUFDRDtBQUNGLENBckJEOztBQXVCQSxNQUFNQyxnQkFBZ0IsR0FBRyxPQUFPO0VBQUVaO0FBQUYsQ0FBUCxLQUF3QjtFQUMvQyxNQUFNLEdBQUdhLFdBQUgsSUFBa0IsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDeENsQixlQUFlLENBQUNtQixNQUFoQixDQUF1QjtJQUFFaEI7RUFBRixDQUF2QixDQUR3QyxFQUV2Q2EsV0FBVyxHQUFHLE1BQU1oQixlQUFlLENBQUNvQixJQUFoQixFQUZtQixDQUFaLENBQTlCLENBRCtDLENBSy9DOztFQUNBLE9BQU9KLFdBQVA7QUFDRCxDQVBEOztlQVNlO0VBQUVkLGNBQUY7RUFBa0JhO0FBQWxCLEMifQ==","map":{"version":3,"names":["onlineUserModel","models","saveOnlineUser","username","name","socketId","userOnline","findOne","newUserOnline","data","save","id","error","console","log","removeOnlineUser","onlineUsers","Promise","all","remove","find"],"sourceRoot":"/home/jamiebones/CODING_DIRECTORY FILES/Tutorials/Chat_application/server/src/controller/","sources":["onlineUser.js"],"sourcesContent":["import models from \"../models\";\n\nconst { onlineUserModel } = models;\n\nconst saveOnlineUser = async ({ username, name, socketId }) => {\n  //check if account exist already\n  try {\n    const userOnline = await onlineUserModel.findOne({ username });\n    if (!userOnline) {\n      const newUserOnline = new onlineUserModel({\n        username,\n        name,\n        socketId,\n      });\n    }\n    const data = await newUserOnline.save();\n    return {\n      username,\n      socketId,\n      name,\n      id: data.id,\n    };\n  } catch (error) {\n    console.log(\"error\");\n  }\n};\n\nconst removeOnlineUser = async ({ username }) => {\n  const [, onlineUsers] = await Promise.all([\n    onlineUserModel.remove({ username }),\n    (onlineUsers = await onlineUserModel.find()),\n  ]);\n  //return the rest users online\n  return onlineUsers;\n};\n\nexport default { saveOnlineUser, removeOnlineUser };\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAM;EAAEA;AAAF,IAAsBC,eAA5B;;AAEA,MAAMC,cAAc,GAAG,OAAO;EAAEC,QAAF;EAAYC,IAAZ;EAAkBC;AAAlB,CAAP,KAAwC;EAC7D;EACA,IAAI;IACF,MAAMC,UAAU,GAAG,MAAMN,eAAe,CAACO,OAAhB,CAAwB;MAAEJ;IAAF,CAAxB,CAAzB;;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,MAAME,aAAa,GAAG,IAAIR,eAAJ,CAAoB;QACxCG,QADwC;QAExCC,IAFwC;QAGxCC;MAHwC,CAApB,CAAtB;IAKD;;IACD,MAAMI,IAAI,GAAG,MAAMD,aAAa,CAACE,IAAd,EAAnB;IACA,OAAO;MACLP,QADK;MAELE,QAFK;MAGLD,IAHK;MAILO,EAAE,EAAEF,IAAI,CAACE;IAJJ,CAAP;EAMD,CAhBD,CAgBE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAY,OAAZ;EACD;AACF,CArBD;;AAuBA,MAAMC,gBAAgB,GAAG,OAAO;EAAEZ;AAAF,CAAP,KAAwB;EAC/C,MAAM,GAAGa,WAAH,IAAkB,MAAMC,OAAO,CAACC,GAAR,CAAY,CACxClB,eAAe,CAACmB,MAAhB,CAAuB;IAAEhB;EAAF,CAAvB,CADwC,EAEvCa,WAAW,GAAG,MAAMhB,eAAe,CAACoB,IAAhB,EAFmB,CAAZ,CAA9B,CAD+C,CAK/C;;EACA,OAAOJ,WAAP;AACD,CAPD;;eASe;EAAEd,cAAF;EAAkBa;AAAlB,C"}},"mtime":1660477091312}}